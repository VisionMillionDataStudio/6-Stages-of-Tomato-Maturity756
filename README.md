# ç•ªèŒ„æˆç†Ÿåº¦æ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunmasj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://kdocs.cn/l/cszuIiCKVNis)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€å…¨çƒäººå£çš„ä¸æ–­å¢é•¿ï¼Œå†œä¸šç”Ÿäº§çš„æ•ˆç‡å’Œè´¨é‡é¢ä¸´ç€å‰æ‰€æœªæœ‰çš„æŒ‘æˆ˜ã€‚ç•ªèŒ„ä½œä¸ºä¸€ç§é‡è¦çš„ç»æµä½œç‰©ï¼Œå…¶æˆç†Ÿåº¦çš„æ£€æµ‹ä¸ä»…å…³ç³»åˆ°å†œäº§å“çš„å¸‚åœºä»·å€¼ï¼Œä¹Ÿç›´æ¥å½±å“åˆ°æ¶ˆè´¹è€…çš„é¥®é£Ÿå®‰å…¨å’Œå¥åº·ã€‚å› æ­¤ï¼Œå¦‚ä½•å‡†ç¡®ã€å¿«é€Ÿåœ°åˆ¤æ–­ç•ªèŒ„çš„æˆç†Ÿåº¦ï¼Œæˆä¸ºäº†ç°ä»£å†œä¸šç”Ÿäº§ä¸­äºŸå¾…è§£å†³çš„é—®é¢˜ã€‚ä¼ ç»Ÿçš„ç•ªèŒ„æˆç†Ÿåº¦æ£€æµ‹æ–¹æ³•å¤šä¾èµ–äºäººå·¥è§‚å¯Ÿå’Œç»éªŒåˆ¤æ–­ï¼Œè¿™ä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè€Œä¸”å®¹æ˜“å—åˆ°ä¸»è§‚å› ç´ çš„å½±å“ï¼Œå¯¼è‡´æ£€æµ‹ç»“æœçš„ä¸å‡†ç¡®æ€§å’Œä¸ä¸€è‡´æ€§ã€‚éšç€è®¡ç®—æœºè§†è§‰å’Œæ·±åº¦å­¦ä¹ æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼ŒåŸºäºå›¾åƒå¤„ç†çš„è‡ªåŠ¨åŒ–æ£€æµ‹æ–¹æ³•é€æ¸æˆä¸ºç ”ç©¶çš„çƒ­ç‚¹ã€‚

åœ¨è¿™ä¸€èƒŒæ™¯ä¸‹ï¼ŒYOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—ç›®æ ‡æ£€æµ‹ç®—æ³•å› å…¶é«˜æ•ˆæ€§å’Œå®æ—¶æ€§ï¼Œæˆä¸ºäº†ä¼—å¤šç ”ç©¶è€…å…³æ³¨çš„ç„¦ç‚¹ã€‚YOLOv8ä½œä¸ºè¯¥ç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå…·å¤‡äº†æ›´å¼ºçš„ç‰¹å¾æå–èƒ½åŠ›å’Œæ›´å¿«çš„æ£€æµ‹é€Ÿåº¦ï¼Œèƒ½å¤Ÿåœ¨å¤æ‚çš„ç¯å¢ƒä¸­å®ç°é«˜ç²¾åº¦çš„ç›®æ ‡æ£€æµ‹ã€‚é€šè¿‡å¯¹YOLOv8ç®—æ³•çš„æ”¹è¿›ï¼Œç»“åˆç•ªèŒ„æˆç†Ÿåº¦æ£€æµ‹çš„å…·ä½“éœ€æ±‚ï¼Œå¯ä»¥æ„å»ºä¸€ä¸ªé«˜æ•ˆã€å‡†ç¡®çš„ç•ªèŒ„æˆç†Ÿåº¦æ£€æµ‹ç³»ç»Ÿï¼Œä»è€Œä¸ºå†œä¸šç”Ÿäº§æä¾›æœ‰åŠ›çš„æŠ€æœ¯æ”¯æŒã€‚

æœ¬ç ”ç©¶æ‰€ä½¿ç”¨çš„æ•°æ®é›†åŒ…å«1600å¼ å›¾åƒï¼Œæ¶µç›–äº†ç•ªèŒ„æˆç†Ÿçš„å…­ä¸ªä¸åŒé˜¶æ®µï¼Œåˆ†åˆ«ä¸ºclass 1è‡³class 6ã€‚è¿™ä¸€æ•°æ®é›†çš„å¤šæ ·æ€§å’Œä¸°å¯Œæ€§ä¸ºæ¨¡å‹çš„è®­ç»ƒå’Œæµ‹è¯•æä¾›äº†åšå®çš„åŸºç¡€ã€‚é€šè¿‡å¯¹ä¸åŒæˆç†Ÿåº¦é˜¶æ®µçš„ç•ªèŒ„è¿›è¡Œæ ‡æ³¨å’Œåˆ†ç±»ï¼Œç ”ç©¶è€…èƒ½å¤Ÿåˆ©ç”¨æ·±åº¦å­¦ä¹ æŠ€æœ¯æå–å‡ºå…³é”®ç‰¹å¾ï¼Œä»è€Œå®ç°å¯¹ç•ªèŒ„æˆç†Ÿåº¦çš„å‡†ç¡®è¯†åˆ«ã€‚è¿™ä¸ä»…æœ‰åŠ©äºæé«˜ç•ªèŒ„çš„é‡‡æ‘˜æ•ˆç‡ï¼Œé™ä½äººå·¥æˆæœ¬ï¼Œè¿˜èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘å› æˆç†Ÿåº¦åˆ¤æ–­å¤±è¯¯è€Œé€ æˆçš„ç»æµæŸå¤±ã€‚

æ­¤å¤–ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„ç•ªèŒ„æˆç†Ÿåº¦æ£€æµ‹ç³»ç»Ÿï¼Œèƒ½å¤Ÿä¸ºå†œä¸šæ™ºèƒ½åŒ–å‘å±•æä¾›é‡è¦çš„å‚è€ƒå’Œå€Ÿé‰´ã€‚éšç€ç‰©è”ç½‘å’Œäººå·¥æ™ºèƒ½æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œå†œä¸šç”Ÿäº§æ­£æœç€æ™ºèƒ½åŒ–ã€è‡ªåŠ¨åŒ–çš„æ–¹å‘è¿ˆè¿›ã€‚é€šè¿‡å°†æˆç†Ÿåº¦æ£€æµ‹ç³»ç»Ÿä¸å†œä¸šç”Ÿäº§ç®¡ç†ç³»ç»Ÿç›¸ç»“åˆï¼Œå¯ä»¥å®ç°å¯¹ç•ªèŒ„ç”Ÿé•¿è¿‡ç¨‹çš„å®æ—¶ç›‘æ§å’Œæ•°æ®åˆ†æï¼Œå¸®åŠ©å†œæ°‘åšå‡ºæ›´åŠ ç§‘å­¦çš„å†³ç­–ï¼Œæé«˜å†œä¸šç”Ÿäº§çš„æ•´ä½“æ•ˆç‡ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„ç•ªèŒ„æˆç†Ÿåº¦æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶ï¼Œä¸ä»…å…·æœ‰é‡è¦çš„ç†è®ºæ„ä¹‰ï¼Œä¹Ÿå…·å¤‡å¹¿æ³›çš„åº”ç”¨å‰æ™¯ã€‚é€šè¿‡æå‡ç•ªèŒ„æˆç†Ÿåº¦æ£€æµ‹çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ï¼Œå¯ä»¥ä¸ºå†œä¸šç”Ÿäº§çš„ç°ä»£åŒ–è½¬å‹æä¾›å¼ºæœ‰åŠ›çš„æŠ€æœ¯æ”¯æŒï¼Œæ¨åŠ¨å†œä¸šäº§ä¸šçš„å¯æŒç»­å‘å±•ã€‚æœªæ¥ï¼Œéšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥å’Œæ•°æ®é›†çš„ä¸æ–­ä¸°å¯Œï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„æˆç†Ÿåº¦æ£€æµ‹ç³»ç»Ÿæœ‰æœ›åœ¨æ›´å¤šçš„å†œä½œç‰©æ£€æµ‹ä¸­å¾—åˆ°åº”ç”¨ï¼Œä¸ºå…¨çƒå†œä¸šç”Ÿäº§å¸¦æ¥æ›´å¤§çš„å˜é©ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV17wxveSEu2/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 6
names: ['class 1', 'class 2', 'class 3', 'class 4', 'class 5', 'class 6']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åä¸ºâ€œ6 Stages of Tomato Maturityâ€çš„æ•°æ®é›†ï¼Œä»¥æ”¹è¿›YOLOv8æ¨¡å‹åœ¨ç•ªèŒ„æˆç†Ÿåº¦æ£€æµ‹ç³»ç»Ÿä¸­çš„è¡¨ç°ã€‚è¯¥æ•°æ®é›†ä¸“é—¨é’ˆå¯¹ç•ªèŒ„çš„ä¸åŒæˆç†Ÿé˜¶æ®µè¿›è¡Œäº†ç²¾å¿ƒæ ‡æ³¨ï¼Œæ¶µç›–äº†å…­ä¸ªæˆç†Ÿåº¦ç±»åˆ«ï¼Œåˆ†åˆ«ä¸ºâ€œclass 1â€ã€â€œclass 2â€ã€â€œclass 3â€ã€â€œclass 4â€ã€â€œclass 5â€å’Œâ€œclass 6â€ã€‚è¿™äº›ç±»åˆ«ä»£è¡¨äº†ä»æœªæˆç†Ÿåˆ°å®Œå…¨æˆç†Ÿçš„ä¸åŒçŠ¶æ€ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªä¸°å¯Œçš„åŸºç¡€ï¼Œä»¥è®­ç»ƒå’Œä¼˜åŒ–æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚

â€œ6 Stages of Tomato Maturityâ€æ•°æ®é›†çš„è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†å¸®åŠ©ç ”ç©¶äººå‘˜å’Œå¼€å‘è€…åœ¨å†œä¸šé¢†åŸŸå®ç°æ›´é«˜æ•ˆçš„ä½œç‰©ç›‘æµ‹å’Œç®¡ç†ã€‚æ¯ä¸ªç±»åˆ«çš„æ ·æœ¬å‡ç»è¿‡ä¸¥æ ¼ç­›é€‰å’Œæ ‡æ³¨ï¼Œç¡®ä¿å…¶ä»£è¡¨æ€§å’Œå‡†ç¡®æ€§ã€‚å…·ä½“è€Œè¨€ï¼Œâ€œclass 1â€ä»£è¡¨çš„æ˜¯ç•ªèŒ„çš„åˆå§‹ç”Ÿé•¿é˜¶æ®µï¼Œé€šå¸¸ä¸ºç»¿è‰²ä¸”è¡¨é¢å…‰æ»‘ï¼›è€Œâ€œclass 6â€åˆ™è¡¨ç¤ºç•ªèŒ„çš„å®Œå…¨æˆç†ŸçŠ¶æ€ï¼Œå‘ˆç°å‡ºé²œè‰³çš„çº¢è‰²å’Œä¸°å¯Œçš„é£å‘³ã€‚è¿™ç§é€çº§çš„åˆ†ç±»ä¸ä»…ä¾¿äºæ¨¡å‹çš„å­¦ä¹ ï¼Œä¹Ÿä¸ºåç»­çš„åº”ç”¨æä¾›äº†æ˜ç¡®çš„ç›®æ ‡ã€‚

åœ¨æ•°æ®é›†çš„æ„å»ºè¿‡ç¨‹ä¸­ï¼Œç ”ç©¶å›¢é˜Ÿæ”¶é›†äº†å¤§é‡çš„ç•ªèŒ„å›¾åƒï¼Œæ¶µç›–äº†ä¸åŒçš„ç”Ÿé•¿ç¯å¢ƒã€å…‰ç…§æ¡ä»¶å’Œæ‹æ‘„è§’åº¦ã€‚è¿™ç§å¤šæ ·æ€§ç¡®ä¿äº†æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­çš„é²æ£’æ€§ï¼Œä½¿å…¶èƒ½å¤Ÿé€‚åº”å„ç§å¤æ‚çš„åœºæ™¯ã€‚æ­¤å¤–ï¼Œæ•°æ®é›†ä¸­çš„å›¾åƒå‡ç»è¿‡é«˜è´¨é‡çš„é¢„å¤„ç†ï¼Œä»¥æé«˜å›¾åƒçš„æ¸…æ™°åº¦å’Œå¯è¾¨è¯†åº¦ï¼Œä»è€Œä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›æ›´å¥½çš„è¾“å…¥ã€‚

ä¸ºäº†ç¡®ä¿æ¨¡å‹èƒ½å¤Ÿæœ‰æ•ˆåœ°å­¦ä¹ åˆ°ä¸åŒæˆç†Ÿé˜¶æ®µçš„ç‰¹å¾ï¼Œæˆ‘ä»¬åœ¨æ•°æ®é›†ä¸­é‡‡ç”¨äº†æ•°æ®å¢å¼ºæŠ€æœ¯ã€‚è¿™åŒ…æ‹¬æ—‹è½¬ã€ç¼©æ”¾ã€è£å‰ªå’Œé¢œè‰²è°ƒæ•´ç­‰æ“ä½œï¼Œæ—¨åœ¨å¢åŠ æ ·æœ¬çš„å¤šæ ·æ€§ï¼Œå‡å°‘è¿‡æ‹Ÿåˆçš„é£é™©ã€‚é€šè¿‡è¿™äº›æŠ€æœ¯ï¼Œæˆ‘ä»¬ä¸ä»…æ‰©å±•äº†æ•°æ®é›†çš„è§„æ¨¡ï¼Œè¿˜æé«˜äº†æ¨¡å‹åœ¨ä¸åŒæ¡ä»¶ä¸‹çš„æ³›åŒ–èƒ½åŠ›ã€‚

åœ¨æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†â€œ6 Stages of Tomato Maturityâ€æ•°æ®é›†åˆ’åˆ†ä¸ºè®­ç»ƒé›†ã€éªŒè¯é›†å’Œæµ‹è¯•é›†ï¼Œä»¥ä¾¿äºå¯¹æ¨¡å‹çš„æ€§èƒ½è¿›è¡Œå…¨é¢è¯„ä¼°ã€‚è®­ç»ƒé›†ç”¨äºæ¨¡å‹çš„å­¦ä¹ ï¼ŒéªŒè¯é›†ç”¨äºè°ƒæ•´è¶…å‚æ•°ï¼Œè€Œæµ‹è¯•é›†åˆ™ç”¨äºæœ€ç»ˆçš„æ€§èƒ½è¯„ä¼°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç¡®ä¿æ¨¡å‹åœ¨ä¸åŒæ•°æ®é›†ä¸Šçš„è¡¨ç°ä¸€è‡´æ€§ï¼Œä»è€Œæé«˜å…¶åœ¨å®é™…åº”ç”¨ä¸­çš„å¯é æ€§ã€‚

æ€»ä¹‹ï¼Œâ€œ6 Stages of Tomato Maturityâ€æ•°æ®é›†ä¸ºæ”¹è¿›YOLOv8çš„ç•ªèŒ„æˆç†Ÿåº¦æ£€æµ‹ç³»ç»Ÿæä¾›äº†åšå®çš„åŸºç¡€ã€‚é€šè¿‡ç²¾å¿ƒè®¾è®¡çš„ç±»åˆ«åˆ’åˆ†ã€ä¸°å¯Œçš„æ ·æœ¬å¤šæ ·æ€§ä»¥åŠæœ‰æ•ˆçš„æ•°æ®å¢å¼ºç­–ç•¥ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªé«˜æ•ˆã€å‡†ç¡®çš„æ£€æµ‹ç³»ç»Ÿï¼Œèƒ½å¤Ÿåœ¨å†œä¸šç”Ÿäº§ä¸­å‘æŒ¥é‡è¦ä½œç”¨ï¼ŒåŠ©åŠ›æ™ºèƒ½å†œä¸šçš„å‘å±•ã€‚éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼Œæˆ‘ä»¬æœŸå¾…è¿™ä¸€ç³»ç»Ÿèƒ½å¤Ÿåœ¨å®é™…åº”ç”¨ä¸­ä¸ºå†œæ°‘å’Œå†œä¸šç®¡ç†è€…æä¾›æ›´ä¸ºç§‘å­¦å’Œé«˜æ•ˆçš„å†³ç­–æ”¯æŒã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ç®—æ³•æ˜¯ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ä¸€é¡¹é‡è¦è¿›å±•ï¼Œæ‰¿è½½ç€YOLOç³»åˆ—æ¨¡å‹çš„æ¼”å˜ä¸åˆ›æ–°ã€‚è¯¥ç®—æ³•çš„è®¾è®¡ç†å¿µåœ¨äºæé«˜æ£€æµ‹ç²¾åº¦ä¸é€Ÿåº¦ï¼ŒåŒæ—¶ç®€åŒ–æ¨¡å‹ç»“æ„ï¼Œä½¿å…¶åœ¨å®é™…åº”ç”¨ä¸­æ›´å…·çµæ´»æ€§å’Œé«˜æ•ˆæ€§ã€‚YOLOv8çš„æ¶æ„ç”±è¾“å…¥å±‚ã€ä¸»å¹²ç½‘ç»œã€ç‰¹å¾èåˆå±‚å’Œè§£è€¦å¤´ç»„æˆï¼Œå»¶ç»­äº†YOLOv5å’ŒYOLOv7çš„è®¾è®¡æ€è·¯ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œäº†å¤šé¡¹å…³é”®æ”¹è¿›ã€‚

åœ¨ä¸»å¹²ç½‘ç»œæ–¹é¢ï¼ŒYOLOv8é‡‡ç”¨äº†CSPDarknetç»“æ„ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–äº†ç‰¹å¾æå–è¿‡ç¨‹ã€‚å…·ä½“è€Œè¨€ï¼ŒYOLOv8å°†YOLOv5ä¸­çš„C3æ¨¡å—æ›¿æ¢ä¸ºC2fæ¨¡å—ï¼Œè¿™ä¸€å˜åŒ–ä¸ä»…å®ç°äº†æ¨¡å‹çš„è½»é‡åŒ–ï¼Œè¿˜åœ¨ä¸ç‰ºç‰²æ£€æµ‹ç²¾åº¦çš„å‰æä¸‹ï¼Œå¢å¼ºäº†ç‰¹å¾æå–çš„èƒ½åŠ›ã€‚C2fæ¨¡å—çš„è®¾è®¡çµæ„Ÿæ¥æºäºELANæ€æƒ³ï¼Œå…·å¤‡ä¸¤ä¸ªåˆ†æ”¯çš„ç»“æ„ï¼Œèƒ½å¤Ÿåœ¨æ¢¯åº¦å›ä¼ è¿‡ç¨‹ä¸­æä¾›æ›´ä¸°å¯Œçš„ä¿¡æ¯æµã€‚è¿™ç§è®¾è®¡é€šè¿‡å°†è¾“å…¥ç‰¹å¾å›¾åˆ†ä¸ºå¤šä¸ªåˆ†æ”¯å¹¶è¿›è¡Œèåˆï¼Œæ˜¾è‘—æå‡äº†æ¨¡å‹å¯¹å¤æ‚ç‰¹å¾çš„æ•æ‰èƒ½åŠ›ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†æ·±å±‚ç½‘ç»œæ—¶ï¼Œæœ‰æ•ˆç¼“è§£äº†æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸çš„é—®é¢˜ã€‚

YOLOv8çš„ç‰¹å¾èåˆå±‚é‡‡ç”¨äº†PAN-FPNç»“æ„ï¼Œè¿™ä¸€ç»“æ„çš„ä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿå……åˆ†èåˆå¤šå°ºåº¦ç‰¹å¾ä¿¡æ¯ï¼Œæå‡æ¨¡å‹å¯¹ä¸åŒå°ºå¯¸ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ã€‚åœ¨YOLOv8ä¸­ï¼ŒPAN-FPNçš„å®ç°ç»è¿‡äº†ä¸€äº›ç®€åŒ–ï¼Œä¾‹å¦‚åœ¨ä¸Šé‡‡æ ·é˜¶æ®µå»é™¤äº†1Ã—1å·ç§¯å±‚ï¼Œä½¿å¾—ç‰¹å¾èåˆè¿‡ç¨‹æ›´åŠ é«˜æ•ˆã€‚é€šè¿‡è‡ªä¸‹è€Œä¸Šçš„èåˆæ–¹å¼ï¼ŒYOLOv8èƒ½å¤Ÿå°†é«˜å±‚ç‰¹å¾ä¸ä¸­å±‚ã€æµ…å±‚ç‰¹å¾æœ‰æ•ˆç»“åˆï¼Œç¡®ä¿æ¯ä¸€å±‚çš„ç‰¹å¾å›¾éƒ½åŒ…å«äº†ä¸°å¯Œçš„è¯­ä¹‰ä¿¡æ¯ä¸ç»†èŠ‚ä¿¡æ¯ï¼Œä»è€Œæå‡äº†ç›®æ ‡æ£€æµ‹çš„å‡†ç¡®æ€§ã€‚

åœ¨ç›®æ ‡æ£€æµ‹çš„å®ç°ä¸Šï¼ŒYOLOv8å¼•å…¥äº†Anchor-Freeçš„æ€æƒ³ï¼ŒæŠ›å¼ƒäº†ä¼ ç»Ÿçš„Anchor-Baseæ–¹æ³•ã€‚è¿™ä¸€åˆ›æ–°ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿç›´æ¥é¢„æµ‹ç›®æ ‡çš„ä¸­å¿ƒç‚¹åŠå…¶å®½é«˜æ¯”ä¾‹ï¼Œå‡å°‘äº†å¯¹Anchoræ¡†çš„ä¾èµ–ï¼Œè¿›è€Œæé«˜äº†æ£€æµ‹é€Ÿåº¦å’Œå‡†ç¡®åº¦ã€‚YOLOv8çš„æ£€æµ‹å¤´éƒ¨åˆ†é‡‡ç”¨äº†è§£è€¦ç»“æ„ï¼Œåˆ†ç±»å’Œå›å½’ä»»åŠ¡è¢«åˆ†å¼€å¤„ç†ï¼Œè¿™ä¸€è®¾è®¡å€Ÿé‰´äº†YOLOXå’ŒYOLOv6çš„è§£è€¦å¤´ç»“æ„ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰ç›®æ ‡çš„ç±»åˆ«ç‰¹å¾å’Œä½ç½®ç‰¹å¾ã€‚è§£è€¦å¤´çš„å®ç°é€šè¿‡åˆ†åˆ«å¯¹åˆ†ç±»å’Œå›å½’åˆ†æ”¯è¿›è¡Œå¤„ç†ï¼Œä½¿å¾—æ¨¡å‹åœ¨å¤„ç†å¤æ‚åœºæ™¯æ—¶è¡¨ç°å¾—æ›´åŠ çµæ´»å’Œé«˜æ•ˆã€‚

åœ¨æŸå¤±å‡½æ•°çš„è®¾è®¡ä¸Šï¼ŒYOLOv8é‡‡ç”¨äº†VFLLossä½œä¸ºåˆ†ç±»æŸå¤±ï¼ŒDFLLossä¸CIoULossä½œä¸ºå›å½’æŸå¤±ã€‚è¿™ä¸€ç»„åˆä¸ä»…èƒ½å¤Ÿæœ‰æ•ˆè§£å†³æ ·æœ¬ä¸å¹³è¡¡é—®é¢˜ï¼Œè¿˜èƒ½æé«˜æ¨¡å‹å¯¹éš¾ä»¥åˆ†ç±»æ ·æœ¬çš„æ•æ„Ÿåº¦ã€‚VFLLossé€šè¿‡ä¸å¯¹ç§°å‚æ•°å¯¹æ­£è´Ÿæ ·æœ¬è¿›è¡ŒåŠ æƒï¼Œä½¿å¾—æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ›´åŠ å…³æ³¨é«˜è´¨é‡çš„æ­£æ ·æœ¬ï¼Œè¿›è€Œæå‡æ•´ä½“æ£€æµ‹æ€§èƒ½ã€‚

YOLOv8åœ¨æ ·æœ¬åŒ¹é…ç­–ç•¥ä¸Šä¹Ÿè¿›è¡Œäº†åˆ›æ–°ï¼Œé‡‡ç”¨äº†TaskAlignedçš„AssigneråŒ¹é…æ–¹å¼ã€‚è¿™ä¸€ç­–ç•¥é€šè¿‡åŠ¨æ€æ ‡ç­¾åˆ†é…ï¼Œè§£å†³äº†æ­£è´Ÿæ ·æœ¬åŒ¹é…ä¸­çš„å¤šå°ºåº¦åˆ†é…é—®é¢˜ï¼Œç¡®ä¿æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­èƒ½å¤Ÿæœ‰æ•ˆåˆ©ç”¨æ¯ä¸€ä¸ªæ ·æœ¬ï¼Œæé«˜äº†è®­ç»ƒçš„æ•ˆç‡å’Œæ•ˆæœã€‚

æ•°æ®é¢„å¤„ç†æ–¹é¢ï¼ŒYOLOv8å»¶ç»­äº†YOLOv5çš„ç­–ç•¥ï¼Œé‡‡ç”¨äº†å¤šç§æ•°æ®å¢å¼ºæ‰‹æ®µï¼Œå¦‚é©¬èµ›å…‹å¢å¼ºã€æ··åˆå¢å¼ºã€ç©ºé—´æ‰°åŠ¨å’Œé¢œè‰²æ‰°åŠ¨ç­‰ã€‚è¿™äº›å¢å¼ºæ‰‹æ®µèƒ½å¤Ÿæœ‰æ•ˆæå‡æ¨¡å‹çš„é²æ£’æ€§ï¼Œä½¿å…¶åœ¨é¢å¯¹å¤æ‚èƒŒæ™¯å’Œå¤šæ ·åŒ–ç›®æ ‡æ—¶ï¼Œä¾ç„¶èƒ½å¤Ÿä¿æŒè‰¯å¥½çš„æ£€æµ‹æ€§èƒ½ã€‚

æ€»çš„æ¥è¯´ï¼ŒYOLOv8ç®—æ³•åœ¨YOLOç³»åˆ—çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡å¼•å…¥æ–°çš„æ¨¡å—å’Œä¼˜åŒ–ç°æœ‰ç»“æ„ï¼Œæ˜¾è‘—æå‡äº†ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦å’Œé€Ÿåº¦ã€‚å…¶åœ¨ç‰¹å¾æå–ã€ç‰¹å¾èåˆã€ç›®æ ‡æ£€æµ‹å’ŒæŸå¤±å‡½æ•°ç­‰å¤šä¸ªæ–¹é¢çš„åˆ›æ–°ï¼Œä½¿å¾—YOLOv8æˆä¸ºå½“å‰ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„SOTAç®—æ³•ä¹‹ä¸€ï¼Œå±•ç°äº†å¼ºå¤§çš„åº”ç”¨æ½œåŠ›å’Œå¹¿æ³›çš„é€‚ç”¨æ€§ã€‚éšç€YOLOv8çš„æ¨å¹¿ä¸åº”ç”¨ï¼Œæœªæ¥çš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡å°†æ›´åŠ é«˜æ•ˆã€å‡†ç¡®ï¼Œä¸ºå„ç±»æ™ºèƒ½è§†è§‰ç³»ç»Ÿçš„å®ç°æä¾›äº†æœ‰åŠ›æ”¯æŒã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 ui.py

ä»¥ä¸‹æ˜¯å¯¹ç»™å®šä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†è¿›è¡Œä¿ç•™å’Œè¯¦ç»†æ³¨é‡Šçš„ç‰ˆæœ¬ï¼š

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤ï¼Œä½¿ç”¨ streamlit è¿è¡ŒæŒ‡å®šçš„è„šæœ¬
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤å¹¶ç­‰å¾…å…¶å®Œæˆ
    result = subprocess.run(command, shell=True)
    
    # æ£€æŸ¥å‘½ä»¤æ‰§è¡Œçš„è¿”å›ç ï¼Œéé›¶è¡¨ç¤ºå‡ºé”™
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")

# å®ä¾‹åŒ–å¹¶è¿è¡Œåº”ç”¨
if __name__ == "__main__":
    # æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œå¯ä»¥ç›´æ¥æŒ‡å®šè„šæœ¬åç§°ï¼Œå‡è®¾å®ƒåœ¨å½“å‰ç›®å½•ä¸‹

    # è°ƒç”¨å‡½æ•°è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç åˆ†æä¸æ³¨é‡Šï¼š

1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `sys`ï¼šç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ã€‚
   - `subprocess`ï¼šç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤å’Œä¸å…¶äº¤äº’ã€‚

2. **`run_script` å‡½æ•°**ï¼š
   - è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„ Python è„šæœ¬çš„è·¯å¾„ã€‚
   - ä½¿ç”¨ `sys.executable` è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œä»¥ç¡®ä¿ä½¿ç”¨ç›¸åŒçš„ç¯å¢ƒè¿è¡Œè„šæœ¬ã€‚
   - æ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit` æ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨ `subprocess.run` æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ç­‰å¾…å…¶å®Œæˆã€‚
   - æ£€æŸ¥è¿”å›ç ï¼Œå¦‚æœä¸ä¸ºé›¶ï¼Œåˆ™è¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ã€‚

3. **ä¸»ç¨‹åºå—**ï¼š
   - ä½¿ç”¨ `if __name__ == "__main__":` ç¡®ä¿è¯¥ä»£ç å—ä»…åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰§è¡Œï¼Œè€Œä¸æ˜¯åœ¨è¢«å¯¼å…¥æ—¶æ‰§è¡Œã€‚
   - æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ä¸º `web.py`ï¼Œå¹¶è°ƒç”¨ `run_script` å‡½æ•°æ‰§è¡Œè¯¥è„šæœ¬ã€‚

é€šè¿‡ä»¥ä¸Šæ³¨é‡Šï¼Œå¯ä»¥æ¸…æ™°åœ°ç†è§£ä»£ç çš„åŠŸèƒ½å’Œæ¯ä¸ªéƒ¨åˆ†çš„ä½œç”¨ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `ui.py` æ˜¯ä¸€ä¸ªç”¨äºè¿è¡Œ Python è„šæœ¬çš„ç®€å•å·¥å…·ï¼Œç‰¹åˆ«æ˜¯ç”¨æ¥å¯åŠ¨ä¸€ä¸ª Streamlit åº”ç”¨ã€‚é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ï¼Œè¿™äº›æ¨¡å—æä¾›äº†ä¸ç³»ç»Ÿäº¤äº’çš„åŠŸèƒ½ã€‚`abs_path` å‡½æ•°æ¥è‡ª `QtFusion.path` æ¨¡å—ï¼Œç”¨äºè·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚

åœ¨ `run_script` å‡½æ•°ä¸­ï¼Œç¨‹åºæ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¿™æ˜¯è¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚å‡½æ•°çš„ç¬¬ä¸€æ­¥æ˜¯è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œè¿™é€šè¿‡ `sys.executable` å®ç°ã€‚æ¥ç€ï¼Œç¨‹åºæ„å»ºäº†ä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œè¯¥å‘½ä»¤ä½¿ç”¨å½“å‰çš„ Python è§£é‡Šå™¨å’Œ Streamlit æ¨¡å—æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚å…·ä½“çš„å‘½ä»¤æ ¼å¼ä¸º `"{python_path}" -m streamlit run "{script_path}"`ï¼Œå…¶ä¸­ `{python_path}` å’Œ `{script_path}` ä¼šè¢«å®é™…çš„è·¯å¾„æ›¿æ¢ã€‚

éšåï¼Œç¨‹åºä½¿ç”¨ `subprocess.run` æ–¹æ³•æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œ`shell=True` å‚æ•°å…è®¸åœ¨ shell ä¸­æ‰§è¡Œå‘½ä»¤ã€‚æ‰§è¡Œåï¼Œç¨‹åºæ£€æŸ¥è¿”å›çš„ç»“æœï¼Œå¦‚æœè¿”å›ç ä¸ä¸ºé›¶ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œæ­¤æ—¶ä¼šæ‰“å°å‡ºé”™è¯¯ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` è¯­å¥æ¥ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥æ–‡ä»¶æ—¶æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚è¿™é‡ŒæŒ‡å®šäº†è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ `web.py`ï¼Œå¹¶è°ƒç”¨ `run_script` å‡½æ•°æ¥å¯åŠ¨è¿™ä¸ªè„šæœ¬ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºçš„ä¸»è¦åŠŸèƒ½æ˜¯æ–¹ä¾¿åœ°è¿è¡Œä¸€ä¸ª Streamlit åº”ç”¨ï¼Œé€šè¿‡å°è£…å‘½ä»¤è¡Œè°ƒç”¨çš„æ–¹å¼ï¼Œç®€åŒ–äº†ç”¨æˆ·çš„æ“ä½œã€‚

#### 11.2 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\hub\session.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å¹¶æ·»åŠ è¯¦ç»†ä¸­æ–‡æ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import signal
import sys
from time import sleep
import requests
from ultralytics.hub.utils import HUB_API_ROOT, HUB_WEB_ROOT, smart_request
from ultralytics.utils import LOGGER, checks
from ultralytics.utils.errors import HUBModelError

class HUBTrainingSession:
    """
    HUBè®­ç»ƒä¼šè¯ç±»ï¼Œç”¨äºç®¡ç†Ultralytics HUB YOLOæ¨¡å‹çš„åˆå§‹åŒ–ã€å¿ƒè·³å’Œæ£€æŸ¥ç‚¹ä¸Šä¼ ã€‚
    """

    def __init__(self, url):
        """
        åˆå§‹åŒ–HUBTrainingSessionï¼Œä½¿ç”¨æä¾›çš„æ¨¡å‹æ ‡è¯†ç¬¦ã€‚

        å‚æ•°:
            url (str): ç”¨äºåˆå§‹åŒ–HUBè®­ç»ƒä¼šè¯çš„æ¨¡å‹æ ‡è¯†ç¬¦ï¼Œå¯ä»¥æ˜¯URLå­—ç¬¦ä¸²æˆ–ç‰¹å®šæ ¼å¼çš„æ¨¡å‹é”®ã€‚

        å¼‚å¸¸:
            ValueError: å¦‚æœæä¾›çš„æ¨¡å‹æ ‡è¯†ç¬¦æ— æ•ˆã€‚
            ConnectionError: å¦‚æœè¿æ¥å…¨å±€APIå¯†é’¥ä¸è¢«æ”¯æŒã€‚
        """
        # è§£æè¾“å…¥çš„æ¨¡å‹URL
        if url.startswith(f'{HUB_WEB_ROOT}/models/'):
            url = url.split(f'{HUB_WEB_ROOT}/models/')[-1]
        if [len(x) for x in url.split('_')] == [42, 20]:
            key, model_id = url.split('_')
        elif len(url) == 20:
            key, model_id = '', url
        else:
            raise HUBModelError(f"æ¨¡å‹='{url}'æœªæ‰¾åˆ°ã€‚è¯·æ£€æŸ¥æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚")

        # æˆæƒ
        auth = Auth(key)
        self.model_id = model_id
        self.model_url = f'{HUB_WEB_ROOT}/models/{model_id}'
        self.api_url = f'{HUB_API_ROOT}/v1/models/{model_id}'
        self.auth_header = auth.get_auth_header()
        self.metrics_queue = {}  # ç”¨äºå­˜å‚¨æ¨¡å‹çš„æŒ‡æ ‡
        self.model = self._get_model()  # è·å–æ¨¡å‹æ•°æ®
        self.alive = True  # å¿ƒè·³å¾ªç¯çŠ¶æ€
        self._start_heartbeat()  # å¯åŠ¨å¿ƒè·³
        self._register_signal_handlers()  # æ³¨å†Œä¿¡å·å¤„ç†å™¨
        LOGGER.info(f'æŸ¥çœ‹æ¨¡å‹åœ¨ {self.model_url} ğŸš€')

    def _register_signal_handlers(self):
        """æ³¨å†Œä¿¡å·å¤„ç†å™¨ä»¥ä¼˜é›…åœ°å¤„ç†ç»ˆæ­¢ä¿¡å·ã€‚"""
        signal.signal(signal.SIGTERM, self._handle_signal)
        signal.signal(signal.SIGINT, self._handle_signal)

    def _handle_signal(self, signum, frame):
        """
        å¤„ç†ç»ˆæ­¢ä¿¡å·ï¼Œé˜²æ­¢åœ¨Colabä¸­ç»ˆæ­¢åå‘é€å¿ƒè·³ã€‚

        å‚æ•°:
            signum: ä¿¡å·ç¼–å·
            frame: å½“å‰çš„æ ˆå¸§ï¼ˆæœªä½¿ç”¨ï¼‰
        """
        if self.alive:
            LOGGER.info('æ”¶åˆ°ç»ˆæ­¢ä¿¡å·! âŒ')
            self._stop_heartbeat()  # åœæ­¢å¿ƒè·³
            sys.exit(signum)

    def _stop_heartbeat(self):
        """ç»ˆæ­¢å¿ƒè·³å¾ªç¯ã€‚"""
        self.alive = False

    def _get_model(self):
        """ä»Ultralytics HUBè·å–å¹¶è¿”å›æ¨¡å‹æ•°æ®ã€‚"""
        api_url = f'{HUB_API_ROOT}/v1/models/{self.model_id}'
        try:
            response = smart_request('get', api_url, headers=self.auth_header, thread=False, code=0)
            data = response.json().get('data', None)

            if data.get('status') == 'trained':
                raise ValueError('æ¨¡å‹å·²è®­ç»ƒå¹¶ä¸Šä¼ ã€‚')

            if not data.get('data'):
                raise ValueError('æ•°æ®é›†å¯èƒ½ä»åœ¨å¤„ç†ï¼Œè¯·ç¨åå†è¯•ã€‚')

            self.model_id = data['id']  # æ›´æ–°æ¨¡å‹ID

            # æ ¹æ®æ¨¡å‹çŠ¶æ€è®¾ç½®è®­ç»ƒå‚æ•°
            if data['status'] == 'new':
                self.train_args = {
                    'batch': data['batch_size'],
                    'epochs': data['epochs'],
                    'imgsz': data['imgsz'],
                    'patience': data['patience'],
                    'device': data['device'],
                    'cache': data['cache'],
                    'data': data['data']
                }
                self.model_file = data.get('cfg') or data.get('weights')
                self.model_file = checks.check_yolov5u_filename(self.model_file, verbose=False)
            elif data['status'] == 'training':
                self.train_args = {'data': data['data'], 'resume': True}
                self.model_file = data['resume']

            return data
        except requests.exceptions.ConnectionError as e:
            raise ConnectionRefusedError('é”™è¯¯: HUBæœåŠ¡å™¨æœªåœ¨çº¿ï¼Œè¯·ç¨åå†è¯•ã€‚') from e

    @threaded
    def _start_heartbeat(self):
        """å¼€å§‹ä¸€ä¸ªçº¿ç¨‹å¿ƒè·³å¾ªç¯ï¼Œå‘Ultralytics HUBæŠ¥å‘Šä»£ç†çŠ¶æ€ã€‚"""
        while self.alive:
            r = smart_request('post',
                              f'{HUB_API_ROOT}/v1/agent/heartbeat/models/{self.model_id}',
                              json={'agent': AGENT_NAME, 'agentId': self.agent_id},
                              headers=self.auth_header,
                              retry=0,
                              code=5,
                              thread=False)  # å·²åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­
            self.agent_id = r.json().get('data', {}).get('agentId', None)  # æ›´æ–°ä»£ç†ID
            sleep(300)  # æ¯300ç§’å‘é€ä¸€æ¬¡å¿ƒè·³
```

### ä»£ç è¯´æ˜ï¼š
1. **HUBTrainingSessionç±»**ï¼šç”¨äºç®¡ç†Ultralytics HUBçš„è®­ç»ƒä¼šè¯ï¼ŒåŒ…æ‹¬æ¨¡å‹çš„åˆå§‹åŒ–ã€å¿ƒè·³ç›‘æµ‹å’ŒæŒ‡æ ‡ä¸Šä¼ ç­‰åŠŸèƒ½ã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼šè§£ææ¨¡å‹URLï¼Œè¿›è¡Œæˆæƒï¼Œè·å–æ¨¡å‹æ•°æ®ï¼Œå¹¶å¯åŠ¨å¿ƒè·³ã€‚
3. **ä¿¡å·å¤„ç†**ï¼šæ³¨å†Œä¿¡å·å¤„ç†å™¨ä»¥ä¼˜é›…åœ°å¤„ç†ç»ˆæ­¢ä¿¡å·ï¼Œç¡®ä¿åœ¨æ¥æ”¶åˆ°ç»ˆæ­¢ä¿¡å·æ—¶åœæ­¢å¿ƒè·³å¹¶é€€å‡ºç¨‹åºã€‚
4. **è·å–æ¨¡å‹æ•°æ®**ï¼šä»Ultralytics HUBè·å–æ¨¡å‹çš„ç›¸å…³ä¿¡æ¯ï¼Œè®¾ç½®è®­ç»ƒå‚æ•°ï¼Œå¹¶å¤„ç†å¯èƒ½çš„é”™è¯¯ã€‚
5. **å¿ƒè·³æœºåˆ¶**ï¼šé€šè¿‡ä¸€ä¸ªçº¿ç¨‹å®šæœŸå‘Ultralytics HUBå‘é€å¿ƒè·³è¯·æ±‚ï¼ŒæŠ¥å‘Šä»£ç†çš„çŠ¶æ€ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `HUBTrainingSession` çš„ç±»ï¼Œä¸»è¦ç”¨äºç®¡ç† Ultralytics HUB ä¸Š YOLO æ¨¡å‹çš„è®­ç»ƒä¼šè¯ã€‚å®ƒå¤„ç†æ¨¡å‹çš„åˆå§‹åŒ–ã€å¿ƒè·³ä¿¡å·ã€æ£€æŸ¥ç‚¹ä¸Šä¼ ç­‰åŠŸèƒ½ã€‚

åœ¨åˆå§‹åŒ–æ—¶ï¼Œæ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ªæ¨¡å‹æ ‡è¯†ç¬¦ `url`ï¼Œå¹¶è§£æè¯¥æ ‡è¯†ç¬¦ä»¥è·å–æ¨¡å‹çš„å¯†é’¥å’Œ IDã€‚å¦‚æœæä¾›çš„ URL æ ¼å¼ä¸æ­£ç¡®ï¼Œç¨‹åºä¼šæŠ›å‡ºä¸€ä¸ª `HUBModelError` å¼‚å¸¸ã€‚æ¥ç€ï¼Œç¨‹åºä¼šè¿›è¡Œèº«ä»½éªŒè¯ï¼Œå¹¶æ„å»ºä¸ Ultralytics HUB ç›¸å…³çš„ URL å’Œè¯·æ±‚å¤´ä¿¡æ¯ã€‚è¯¥ç±»è¿˜å®šä¹‰äº†ä¸€äº›å±æ€§ï¼Œä¾‹å¦‚é€Ÿç‡é™åˆ¶ã€è®¡æ—¶å™¨ã€æ¨¡å‹æ•°æ®å’Œå¿ƒè·³çŠ¶æ€ç­‰ã€‚

ç±»ä¸­æœ‰ä¸€ä¸ª `_register_signal_handlers` æ–¹æ³•ï¼Œç”¨äºæ³¨å†Œä¿¡å·å¤„ç†ç¨‹åºï¼Œä»¥ä¾¿åœ¨æ¥æ”¶åˆ°ç»ˆæ­¢ä¿¡å·æ—¶èƒ½å¤Ÿä¼˜é›…åœ°å¤„ç†ç¨‹åºçš„å…³é—­ã€‚`_handle_signal` æ–¹æ³•åˆ™ç”¨äºå¤„ç†è¿™äº›ä¿¡å·ï¼Œç¡®ä¿åœ¨ Colab ç¯å¢ƒä¸­æ¥æ”¶åˆ°ç»ˆæ­¢ä¿¡å·ååœæ­¢å¿ƒè·³å¹¶é€€å‡ºç¨‹åºã€‚

`upload_metrics` æ–¹æ³•ç”¨äºå°†æ¨¡å‹çš„æ€§èƒ½æŒ‡æ ‡ä¸Šä¼ åˆ° Ultralytics HUBã€‚`_get_model` æ–¹æ³•ä» HUB è·å–æ¨¡å‹æ•°æ®ï¼Œå¹¶æ ¹æ®æ¨¡å‹çš„çŠ¶æ€ï¼ˆå¦‚æ–°æ¨¡å‹ã€æ­£åœ¨è®­ç»ƒçš„æ¨¡å‹ç­‰ï¼‰è®¾ç½®è®­ç»ƒå‚æ•°å’Œæ¨¡å‹æ–‡ä»¶ã€‚è‹¥è¿æ¥å¤±è´¥ï¼Œåˆ™ä¼šæŠ›å‡ºè¿æ¥é”™è¯¯ã€‚

`upload_model` æ–¹æ³•ç”¨äºå°†æ¨¡å‹çš„æ£€æŸ¥ç‚¹ä¸Šä¼ åˆ° Ultralytics HUBã€‚å®ƒä¼šæ ¹æ®å½“å‰çš„è®­ç»ƒè½®æ¬¡ã€æƒé‡æ–‡ä»¶å’Œå…¶ä»–å‚æ•°è¿›è¡Œä¸Šä¼ ã€‚æœ€åï¼Œ`_start_heartbeat` æ–¹æ³•å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œå®šæœŸå‘ Ultralytics HUB å‘é€å¿ƒè·³ä¿¡å·ï¼Œä»¥æŠ¥å‘Šä»£ç†çš„çŠ¶æ€ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªç±»å°è£…äº†ä¸ Ultralytics HUB è¿›è¡Œäº¤äº’çš„é€»è¾‘ï¼Œç®€åŒ–äº† YOLO æ¨¡å‹çš„è®­ç»ƒå’Œç®¡ç†è¿‡ç¨‹ã€‚

#### 11.3 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\modules\conv.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import torch
import torch.nn as nn

def autopad(k, p=None, d=1):  # kernel, padding, dilation
    """è‡ªåŠ¨å¡«å……ä»¥ä¿æŒè¾“å‡ºå½¢çŠ¶ä¸å˜ã€‚"""
    if d > 1:
        # å¦‚æœæœ‰è†¨èƒ€(dilation)ï¼Œè®¡ç®—å®é™…çš„å·ç§¯æ ¸å¤§å°
        k = d * (k - 1) + 1 if isinstance(k, int) else [d * (x - 1) + 1 for x in k]
    if p is None:
        # å¦‚æœæ²¡æœ‰æŒ‡å®šå¡«å……ï¼Œè‡ªåŠ¨è®¡ç®—å¡«å……å¤§å°
        p = k // 2 if isinstance(k, int) else [x // 2 for x in k]
    return p

class Conv(nn.Module):
    """æ ‡å‡†å·ç§¯å±‚ï¼ŒåŒ…å«å·ç§¯ã€æ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°ã€‚"""
    default_act = nn.SiLU()  # é»˜è®¤æ¿€æ´»å‡½æ•°

    def __init__(self, c1, c2, k=1, s=1, p=None, g=1, d=1, act=True):
        """åˆå§‹åŒ–å·ç§¯å±‚ï¼ŒåŒ…æ‹¬è¾“å…¥é€šé“ã€è¾“å‡ºé€šé“ã€å·ç§¯æ ¸å¤§å°ã€æ­¥å¹…ã€å¡«å……ã€åˆ†ç»„ã€è†¨èƒ€å’Œæ¿€æ´»å‡½æ•°ã€‚"""
        super().__init__()
        self.conv = nn.Conv2d(c1, c2, k, s, autopad(k, p, d), groups=g, dilation=d, bias=False)
        self.bn = nn.BatchNorm2d(c2)  # æ‰¹å½’ä¸€åŒ–
        self.act = self.default_act if act is True else act if isinstance(act, nn.Module) else nn.Identity()

    def forward(self, x):
        """å‰å‘ä¼ æ’­ï¼šåº”ç”¨å·ç§¯ã€æ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°ã€‚"""
        return self.act(self.bn(self.conv(x)))

class DWConv(Conv):
    """æ·±åº¦å¯åˆ†ç¦»å·ç§¯å±‚ã€‚"""

    def __init__(self, c1, c2, k=1, s=1, d=1, act=True):
        """åˆå§‹åŒ–æ·±åº¦å¯åˆ†ç¦»å·ç§¯å±‚ã€‚"""
        super().__init__(c1, c2, k, s, g=math.gcd(c1, c2), d=d, act=act)

class ConvTranspose(nn.Module):
    """è½¬ç½®å·ç§¯å±‚ã€‚"""
    default_act = nn.SiLU()  # é»˜è®¤æ¿€æ´»å‡½æ•°

    def __init__(self, c1, c2, k=2, s=2, p=0, bn=True, act=True):
        """åˆå§‹åŒ–è½¬ç½®å·ç§¯å±‚ï¼ŒåŒ…æ‹¬æ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°ã€‚"""
        super().__init__()
        self.conv_transpose = nn.ConvTranspose2d(c1, c2, k, s, p, bias=not bn)
        self.bn = nn.BatchNorm2d(c2) if bn else nn.Identity()
        self.act = self.default_act if act is True else act if isinstance(act, nn.Module) else nn.Identity()

    def forward(self, x):
        """å‰å‘ä¼ æ’­ï¼šåº”ç”¨è½¬ç½®å·ç§¯ã€æ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°ã€‚"""
        return self.act(self.bn(self.conv_transpose(x)))

class ChannelAttention(nn.Module):
    """é€šé“æ³¨æ„åŠ›æ¨¡å—ã€‚"""

    def __init__(self, channels: int) -> None:
        """åˆå§‹åŒ–é€šé“æ³¨æ„åŠ›æ¨¡å—ã€‚"""
        super().__init__()
        self.pool = nn.AdaptiveAvgPool2d(1)  # è‡ªé€‚åº”å¹³å‡æ± åŒ–
        self.fc = nn.Conv2d(channels, channels, 1, 1, 0, bias=True)  # 1x1å·ç§¯
        self.act = nn.Sigmoid()  # Sigmoidæ¿€æ´»å‡½æ•°

    def forward(self, x: torch.Tensor) -> torch.Tensor:
        """å‰å‘ä¼ æ’­ï¼šåº”ç”¨é€šé“æ³¨æ„åŠ›æœºåˆ¶ã€‚"""
        return x * self.act(self.fc(self.pool(x)))

class SpatialAttention(nn.Module):
    """ç©ºé—´æ³¨æ„åŠ›æ¨¡å—ã€‚"""

    def __init__(self, kernel_size=7):
        """åˆå§‹åŒ–ç©ºé—´æ³¨æ„åŠ›æ¨¡å—ã€‚"""
        super().__init__()
        assert kernel_size in (3, 7), 'kernel size must be 3 or 7'
        padding = 3 if kernel_size == 7 else 1
        self.cv1 = nn.Conv2d(2, 1, kernel_size, padding=padding, bias=False)  # å·ç§¯å±‚
        self.act = nn.Sigmoid()  # Sigmoidæ¿€æ´»å‡½æ•°

    def forward(self, x):
        """å‰å‘ä¼ æ’­ï¼šåº”ç”¨ç©ºé—´æ³¨æ„åŠ›æœºåˆ¶ã€‚"""
        return x * self.act(self.cv1(torch.cat([torch.mean(x, 1, keepdim=True), torch.max(x, 1, keepdim=True)[0]], 1)))

class CBAM(nn.Module):
    """å·ç§¯å—æ³¨æ„åŠ›æ¨¡å—ã€‚"""

    def __init__(self, c1, kernel_size=7):
        """åˆå§‹åŒ–CBAMæ¨¡å—ã€‚"""
        super().__init__()
        self.channel_attention = ChannelAttention(c1)  # é€šé“æ³¨æ„åŠ›
        self.spatial_attention = SpatialAttention(kernel_size)  # ç©ºé—´æ³¨æ„åŠ›

    def forward(self, x):
        """å‰å‘ä¼ æ’­ï¼šåº”ç”¨CBAMæ¨¡å—ã€‚"""
        return self.spatial_attention(self.channel_attention(x))
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **è‡ªåŠ¨å¡«å……å‡½æ•° `autopad`**ï¼šç”¨äºæ ¹æ®å·ç§¯æ ¸å¤§å°å’Œè†¨èƒ€å› å­è‡ªåŠ¨è®¡ç®—å¡«å……å¤§å°ï¼Œä»¥ä¿æŒè¾“å‡ºå½¢çŠ¶ä¸å˜ã€‚
2. **å·ç§¯ç±» `Conv`**ï¼šå®ç°äº†æ ‡å‡†å·ç§¯æ“ä½œï¼ŒåŒ…å«å·ç§¯ã€æ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°çš„ç»„åˆã€‚
3. **æ·±åº¦å¯åˆ†ç¦»å·ç§¯ç±» `DWConv`**ï¼šç»§æ‰¿è‡ª `Conv`ï¼Œå®ç°äº†æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼Œé€‚ç”¨äºå‡å°‘è®¡ç®—é‡ã€‚
4. **è½¬ç½®å·ç§¯ç±» `ConvTranspose`**ï¼šå®ç°äº†è½¬ç½®å·ç§¯æ“ä½œï¼Œå¸¸ç”¨äºä¸Šé‡‡æ ·ã€‚
5. **é€šé“æ³¨æ„åŠ›æ¨¡å— `ChannelAttention`**ï¼šé€šè¿‡è‡ªé€‚åº”å¹³å‡æ± åŒ–å’Œ1x1å·ç§¯å®ç°é€šé“æ³¨æ„åŠ›æœºåˆ¶ã€‚
6. **ç©ºé—´æ³¨æ„åŠ›æ¨¡å— `SpatialAttention`**ï¼šé€šè¿‡å¯¹è¾“å…¥ç‰¹å¾å›¾è¿›è¡Œå¹³å‡å’Œæœ€å¤§æ± åŒ–ï¼Œç»“åˆå·ç§¯å®ç°ç©ºé—´æ³¨æ„åŠ›æœºåˆ¶ã€‚
7. **CBAMæ¨¡å— `CBAM`**ï¼šç»“åˆé€šé“æ³¨æ„åŠ›å’Œç©ºé—´æ³¨æ„åŠ›çš„æ¨¡å—ï¼Œç”¨äºå¢å¼ºç‰¹å¾è¡¨ç¤ºã€‚

è¿™äº›æ ¸å¿ƒéƒ¨åˆ†æ˜¯æ„å»ºç°ä»£å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ä¸­å¸¸ç”¨çš„åŸºç¡€ç»„ä»¶ï¼Œå°¤å…¶æ˜¯åœ¨ç›®æ ‡æ£€æµ‹å’Œå›¾åƒåˆ†å‰²ç­‰ä»»åŠ¡ä¸­ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯YOLOv8ç®—æ³•ä¸­ç”¨äºå·ç§¯æ¨¡å—çš„å®ç°ï¼ŒåŒ…å«äº†å¤šç§å·ç§¯æ“ä½œçš„å®šä¹‰å’Œç›¸å…³åŠŸèƒ½ã€‚é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬æ•°å­¦åº“ã€NumPyå’ŒPyTorchçš„ç¥ç»ç½‘ç»œæ¨¡å—ã€‚æ¥ç€ï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º`autopad`çš„å‡½æ•°ï¼Œç”¨äºæ ¹æ®å·ç§¯æ ¸çš„å¤§å°ã€å¡«å……å’Œæ‰©å¼ å‚æ•°è‡ªåŠ¨è®¡ç®—å¡«å……çš„å¤§å°ï¼Œä»¥ç¡®ä¿è¾“å‡ºçš„å½¢çŠ¶ä¸è¾“å…¥ç›¸åŒã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†å¤šä¸ªå·ç§¯ç±»ã€‚`Conv`ç±»æ˜¯æ ‡å‡†çš„å·ç§¯å±‚ï¼ŒåŒ…å«å·ç§¯æ“ä½œã€æ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°ã€‚æ„é€ å‡½æ•°æ¥å—å¤šä¸ªå‚æ•°ï¼Œå¦‚è¾“å…¥é€šé“æ•°ã€è¾“å‡ºé€šé“æ•°ã€å·ç§¯æ ¸å¤§å°ã€æ­¥å¹…ã€å¡«å……ã€åˆ†ç»„å’Œæ‰©å¼ ç­‰ã€‚`forward`æ–¹æ³•å®ç°äº†å·ç§¯ã€æ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»çš„é¡ºåºæ“ä½œã€‚

`Conv2`ç±»æ˜¯ä¸€ä¸ªç®€åŒ–çš„å·ç§¯æ¨¡å—ï¼Œå¢åŠ äº†ä¸€ä¸ª1x1çš„å·ç§¯å±‚ï¼Œå¹¶å®ç°äº†å·ç§¯çš„èåˆåŠŸèƒ½ï¼Œä»¥æé«˜è®¡ç®—æ•ˆç‡ã€‚`LightConv`ç±»å®ç°äº†è½»é‡çº§å·ç§¯ï¼Œé€šè¿‡ä¸¤ä¸ªå·ç§¯å±‚çš„ç»„åˆæ¥å‡å°‘è®¡ç®—é‡ã€‚`DWConv`ç±»å®ç°äº†æ·±åº¦å·ç§¯ï¼Œé€‚ç”¨äºè¾“å…¥é€šé“æ•°å’Œè¾“å‡ºé€šé“æ•°ç›¸åŒçš„æƒ…å†µã€‚

`DWConvTranspose2d`ç±»æ˜¯æ·±åº¦è½¬ç½®å·ç§¯çš„å®ç°ï¼Œ`ConvTranspose`ç±»åˆ™å®ç°äº†è½¬ç½®å·ç§¯å±‚ï¼Œæ”¯æŒæ‰¹å½’ä¸€åŒ–å’Œæ¿€æ´»å‡½æ•°ã€‚`Focus`ç±»ç”¨äºå°†ç©ºé—´ä¿¡æ¯èšç„¦åˆ°é€šé“ç»´åº¦ï¼Œ`GhostConv`ç±»å®ç°äº†Ghostå·ç§¯ï¼Œæ—¨åœ¨é€šè¿‡å‡å°‘å‚æ•°æ•°é‡æ¥æé«˜æ•ˆç‡ã€‚

`RepConv`ç±»æ˜¯ä¸€ä¸ªé‡å¤å·ç§¯æ¨¡å—ï¼Œæ”¯æŒè®­ç»ƒå’Œæ¨ç†é˜¶æ®µçš„ä¸åŒå¤„ç†ã€‚å®ƒé€šè¿‡èåˆå¤šä¸ªå·ç§¯å±‚çš„æƒé‡å’Œåç½®æ¥ä¼˜åŒ–æ¨¡å‹çš„æ¨ç†æ€§èƒ½ã€‚

æ­¤å¤–ï¼Œæ–‡ä»¶ä¸­è¿˜å®šä¹‰äº†æ³¨æ„åŠ›æœºåˆ¶æ¨¡å—ï¼ŒåŒ…æ‹¬`ChannelAttention`å’Œ`SpatialAttention`ï¼Œç”¨äºå¢å¼ºç‰¹å¾å›¾çš„è¡¨ç¤ºèƒ½åŠ›ã€‚`CBAM`ç±»ç»“åˆäº†é€šé“æ³¨æ„åŠ›å’Œç©ºé—´æ³¨æ„åŠ›ï¼Œä»¥æé«˜æ¨¡å‹çš„æ€§èƒ½ã€‚

æœ€åï¼Œ`Concat`ç±»ç”¨äºåœ¨æŒ‡å®šç»´åº¦ä¸Šè¿æ¥å¤šä¸ªå¼ é‡ï¼Œä¾¿äºåœ¨ç½‘ç»œä¸­å¤„ç†å¤šè·¯è¾“å…¥ã€‚æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†YOLOv8ä¸­å·ç§¯æ“ä½œçš„å¤šç§å®ç°ï¼Œæ—¨åœ¨æé«˜æ¨¡å‹çš„æ•ˆç‡å’Œæ€§èƒ½ã€‚

#### 11.4 train.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
class DetectionTrainer(BaseTrainer):
    """
    DetectionTrainerç±»ï¼Œç»§æ‰¿è‡ªBaseTrainerç±»ï¼Œç”¨äºåŸºäºæ£€æµ‹æ¨¡å‹çš„è®­ç»ƒã€‚
    """

    def build_dataset(self, img_path, mode="train", batch=None):
        """
        æ„å»ºYOLOæ•°æ®é›†ã€‚

        å‚æ•°:
            img_path (str): åŒ…å«å›¾åƒçš„æ–‡ä»¶å¤¹è·¯å¾„ã€‚
            mode (str): æ¨¡å¼ï¼Œ`train`è¡¨ç¤ºè®­ç»ƒæ¨¡å¼ï¼Œ`val`è¡¨ç¤ºéªŒè¯æ¨¡å¼ï¼Œç”¨æˆ·å¯ä»¥ä¸ºæ¯ç§æ¨¡å¼è‡ªå®šä¹‰ä¸åŒçš„å¢å¼ºã€‚
            batch (int, optional): æ‰¹æ¬¡å¤§å°ï¼Œä»…ç”¨äº`rect`æ¨¡å¼ã€‚é»˜è®¤ä¸ºNoneã€‚
        """
        gs = max(int(de_parallel(self.model).stride.max() if self.model else 0), 32)  # è·å–æ¨¡å‹çš„æœ€å¤§æ­¥å¹…
        return build_yolo_dataset(self.args, img_path, batch, self.data, mode=mode, rect=mode == "val", stride=gs)

    def get_dataloader(self, dataset_path, batch_size=16, rank=0, mode="train"):
        """æ„é€ å¹¶è¿”å›æ•°æ®åŠ è½½å™¨ã€‚"""
        assert mode in ["train", "val"]  # ç¡®ä¿æ¨¡å¼æ˜¯è®­ç»ƒæˆ–éªŒè¯
        with torch_distributed_zero_first(rank):  # åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­ï¼Œç¡®ä¿æ•°æ®é›†åªåˆå§‹åŒ–ä¸€æ¬¡
            dataset = self.build_dataset(dataset_path, mode, batch_size)  # æ„å»ºæ•°æ®é›†
        shuffle = mode == "train"  # è®­ç»ƒæ¨¡å¼ä¸‹æ‰“ä¹±æ•°æ®
        if getattr(dataset, "rect", False) and shuffle:
            LOGGER.warning("WARNING âš ï¸ 'rect=True' is incompatible with DataLoader shuffle, setting shuffle=False")
            shuffle = False  # å¦‚æœä½¿ç”¨äº†rectæ¨¡å¼ï¼Œå…³é—­æ‰“ä¹±
        workers = self.args.workers if mode == "train" else self.args.workers * 2  # è®¾ç½®å·¥ä½œçº¿ç¨‹æ•°
        return build_dataloader(dataset, batch_size, workers, shuffle, rank)  # è¿”å›æ•°æ®åŠ è½½å™¨

    def preprocess_batch(self, batch):
        """å¯¹ä¸€æ‰¹å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬ç¼©æ”¾å’Œè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚"""
        batch["img"] = batch["img"].to(self.device, non_blocking=True).float() / 255  # å°†å›¾åƒè½¬æ¢ä¸ºæµ®ç‚¹æ•°å¹¶å½’ä¸€åŒ–
        if self.args.multi_scale:  # å¦‚æœå¯ç”¨äº†å¤šå°ºåº¦è®­ç»ƒ
            imgs = batch["img"]
            sz = (
                random.randrange(self.args.imgsz * 0.5, self.args.imgsz * 1.5 + self.stride)
                // self.stride
                * self.stride
            )  # éšæœºé€‰æ‹©ä¸€ä¸ªå°ºå¯¸
            sf = sz / max(imgs.shape[2:])  # è®¡ç®—ç¼©æ”¾å› å­
            if sf != 1:
                ns = [
                    math.ceil(x * sf / self.stride) * self.stride for x in imgs.shape[2:]
                ]  # è®¡ç®—æ–°çš„å½¢çŠ¶
                imgs = nn.functional.interpolate(imgs, size=ns, mode="bilinear", align_corners=False)  # è¿›è¡Œæ’å€¼ç¼©æ”¾
            batch["img"] = imgs  # æ›´æ–°å›¾åƒ
        return batch

    def set_model_attributes(self):
        """è®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œåç§°ã€‚"""
        self.model.nc = self.data["nc"]  # å°†ç±»åˆ«æ•°é‡é™„åŠ åˆ°æ¨¡å‹
        self.model.names = self.data["names"]  # å°†ç±»åˆ«åç§°é™„åŠ åˆ°æ¨¡å‹
        self.model.args = self.args  # å°†è¶…å‚æ•°é™„åŠ åˆ°æ¨¡å‹

    def get_model(self, cfg=None, weights=None, verbose=True):
        """è¿”å›ä¸€ä¸ªYOLOæ£€æµ‹æ¨¡å‹ã€‚"""
        model = DetectionModel(cfg, nc=self.data["nc"], verbose=verbose and RANK == -1)  # åˆ›å»ºæ£€æµ‹æ¨¡å‹
        if weights:
            model.load(weights)  # åŠ è½½æƒé‡
        return model

    def get_validator(self):
        """è¿”å›YOLOæ¨¡å‹éªŒè¯å™¨ã€‚"""
        self.loss_names = "box_loss", "cls_loss", "dfl_loss"  # å®šä¹‰æŸå¤±åç§°
        return yolo.detect.DetectionValidator(
            self.test_loader, save_dir=self.save_dir, args=copy(self.args), _callbacks=self.callbacks
        )

    def label_loss_items(self, loss_items=None, prefix="train"):
        """
        è¿”å›å¸¦æ ‡ç­¾çš„è®­ç»ƒæŸå¤±é¡¹å­—å…¸ã€‚

        å¯¹äºåˆ†ç±»ä¸éœ€è¦ï¼Œä½†å¯¹äºåˆ†å‰²å’Œæ£€æµ‹æ˜¯å¿…è¦çš„ã€‚
        """
        keys = [f"{prefix}/{x}" for x in self.loss_names]  # åˆ›å»ºæŸå¤±é¡¹çš„é”®
        if loss_items is not None:
            loss_items = [round(float(x), 5) for x in loss_items]  # å°†å¼ é‡è½¬æ¢ä¸ºä¿ç•™5ä½å°æ•°çš„æµ®ç‚¹æ•°
            return dict(zip(keys, loss_items))  # è¿”å›æŸå¤±é¡¹å­—å…¸
        else:
            return keys  # è¿”å›é”®åˆ—è¡¨

    def progress_string(self):
        """è¿”å›æ ¼å¼åŒ–çš„è®­ç»ƒè¿›åº¦å­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬è½®æ¬¡ã€GPUå†…å­˜ã€æŸå¤±ã€å®ä¾‹å’Œå¤§å°ã€‚"""
        return ("\n" + "%11s" * (4 + len(self.loss_names))) % (
            "Epoch",
            "GPU_mem",
            *self.loss_names,
            "Instances",
            "Size",
        )

    def plot_training_samples(self, batch, ni):
        """ç»˜åˆ¶å¸¦æœ‰æ³¨é‡Šçš„è®­ç»ƒæ ·æœ¬ã€‚"""
        plot_images(
            images=batch["img"],
            batch_idx=batch["batch_idx"],
            cls=batch["cls"].squeeze(-1),
            bboxes=batch["bboxes"],
            paths=batch["im_file"],
            fname=self.save_dir / f"train_batch{ni}.jpg",
            on_plot=self.on_plot,
        )

    def plot_metrics(self):
        """ä»CSVæ–‡ä»¶ä¸­ç»˜åˆ¶æŒ‡æ ‡ã€‚"""
        plot_results(file=self.csv, on_plot=self.on_plot)  # ä¿å­˜ç»“æœå›¾

    def plot_training_labels(self):
        """åˆ›å»ºYOLOæ¨¡å‹çš„æ ‡è®°è®­ç»ƒå›¾ã€‚"""
        boxes = np.concatenate([lb["bboxes"] for lb in self.train_loader.dataset.labels], 0)  # åˆå¹¶æ‰€æœ‰è¾¹ç•Œæ¡†
        cls = np.concatenate([lb["cls"] for lb in self.train_loader.dataset.labels], 0)  # åˆå¹¶æ‰€æœ‰ç±»åˆ«
        plot_labels(boxes, cls.squeeze(), names=self.data["names"], save_dir=self.save_dir, on_plot=self.on_plot)  # ç»˜åˆ¶æ ‡ç­¾
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **DetectionTrainerç±»**ï¼šè¿™æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒYOLOæ£€æµ‹æ¨¡å‹çš„ç±»ï¼Œç»§æ‰¿è‡ªåŸºæœ¬è®­ç»ƒå™¨`BaseTrainer`ã€‚
2. **æ•°æ®é›†æ„å»º**ï¼š`build_dataset`æ–¹æ³•ç”¨äºæ„å»ºYOLOæ•°æ®é›†ï¼Œæ”¯æŒè®­ç»ƒå’ŒéªŒè¯æ¨¡å¼ã€‚
3. **æ•°æ®åŠ è½½å™¨**ï¼š`get_dataloader`æ–¹æ³•æ„é€ æ•°æ®åŠ è½½å™¨ï¼Œç¡®ä¿åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­åªåˆå§‹åŒ–ä¸€æ¬¡æ•°æ®é›†ã€‚
4. **æ‰¹å¤„ç†é¢„å¤„ç†**ï¼š`preprocess_batch`æ–¹æ³•å¯¹å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å½’ä¸€åŒ–å’Œå¤šå°ºåº¦è°ƒæ•´ã€‚
5. **æ¨¡å‹å±æ€§è®¾ç½®**ï¼š`set_model_attributes`æ–¹æ³•è®¾ç½®æ¨¡å‹çš„ç±»åˆ«æ•°é‡å’Œåç§°ã€‚
6. **æ¨¡å‹è·å–**ï¼š`get_model`æ–¹æ³•è¿”å›YOLOæ£€æµ‹æ¨¡å‹ï¼Œå¹¶å¯åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚
7. **æŸå¤±é¡¹æ ‡ç­¾**ï¼š`label_loss_items`æ–¹æ³•è¿”å›å¸¦æœ‰æ ‡ç­¾çš„æŸå¤±é¡¹å­—å…¸ã€‚
8. **ç»˜å›¾åŠŸèƒ½**ï¼šåŒ…æ‹¬ç»˜åˆ¶è®­ç»ƒæ ·æœ¬ã€ç»˜åˆ¶æŒ‡æ ‡å’Œç»˜åˆ¶è®­ç»ƒæ ‡ç­¾çš„åŠŸèƒ½ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `train.py` æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒ YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„å®ç°ï¼Œç»§æ‰¿è‡ª `BaseTrainer` ç±»ã€‚æ–‡ä»¶ä¸­åŒ…å«äº†ä¸€ç³»åˆ—æ–¹æ³•ï¼Œç”¨äºæ„å»ºæ•°æ®é›†ã€åŠ è½½æ•°æ®ã€é¢„å¤„ç†å›¾åƒã€è®¾ç½®æ¨¡å‹å±æ€§ã€è·å–æ¨¡å‹ã€éªŒè¯æ¨¡å‹ã€è®°å½•æŸå¤±ã€æ˜¾ç¤ºè®­ç»ƒè¿›åº¦ã€ç»˜åˆ¶è®­ç»ƒæ ·æœ¬å’Œç»˜åˆ¶è®­ç»ƒæŒ‡æ ‡ç­‰ã€‚

é¦–å…ˆï¼Œ`DetectionTrainer` ç±»å®šä¹‰äº†ä¸€ä¸ªç”¨äºç›®æ ‡æ£€æµ‹çš„è®­ç»ƒå™¨ã€‚å®ƒçš„æ„é€ å‡½æ•°æ¥å—ä¸€äº›å‚æ•°ï¼Œå¹¶å¯ä»¥é€šè¿‡ç¤ºä¾‹ä»£ç å±•ç¤ºå¦‚ä½•ä½¿ç”¨è¯¥ç±»è¿›è¡Œè®­ç»ƒã€‚è¯¥ç±»çš„ä¸»è¦åŠŸèƒ½æ˜¯æ„å»ºå’Œç®¡ç†è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ•°æ®é›†å’Œæ¨¡å‹ã€‚

åœ¨ `build_dataset` æ–¹æ³•ä¸­ï¼Œç¨‹åºæ ¹æ®ç»™å®šçš„å›¾åƒè·¯å¾„å’Œæ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰æ„å»º YOLO æ•°æ®é›†ã€‚å®ƒä¼šæ ¹æ®æ¨¡å‹çš„æ­¥å¹…ï¼ˆstrideï¼‰æ¥è°ƒæ•´æ•°æ®é›†çš„æ„å»ºæ–¹å¼ã€‚

`get_dataloader` æ–¹æ³•ç”¨äºåˆ›å»ºæ•°æ®åŠ è½½å™¨ã€‚å®ƒä¼šæ ¹æ®æ¨¡å¼é€‰æ‹©æ˜¯å¦æ‰“ä¹±æ•°æ®ï¼Œå¹¶ä¸”åœ¨åˆ†å¸ƒå¼è®­ç»ƒæ—¶ç¡®ä¿æ•°æ®é›†åªåˆå§‹åŒ–ä¸€æ¬¡ã€‚åŠ è½½å™¨ä¼šæ ¹æ®æŒ‡å®šçš„æ‰¹é‡å¤§å°å’Œå·¥ä½œçº¿ç¨‹æ•°è¿”å›ä¸€ä¸ªæ•°æ®åŠ è½½å™¨å¯¹è±¡ã€‚

`preprocess_batch` æ–¹æ³•å¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å°†å›¾åƒç¼©æ”¾åˆ°é€‚å½“çš„å¤§å°å¹¶è½¬æ¢ä¸ºæµ®ç‚¹æ•°æ ¼å¼ã€‚è¯¥æ–¹æ³•è¿˜æ”¯æŒå¤šå°ºåº¦è®­ç»ƒï¼Œéšæœºé€‰æ‹©å›¾åƒçš„å¤§å°è¿›è¡Œè®­ç»ƒã€‚

`set_model_attributes` æ–¹æ³•ç”¨äºè®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œç±»åˆ«åç§°ç­‰ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æ¨¡å‹ä¸æ•°æ®é›†çš„é…ç½®ä¿¡æ¯ä¸€è‡´ã€‚

`get_model` æ–¹æ³•è¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹å®ä¾‹ï¼Œå¹¶å¯é€‰æ‹©åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚

`get_validator` æ–¹æ³•è¿”å›ä¸€ä¸ªç”¨äºéªŒè¯æ¨¡å‹çš„éªŒè¯å™¨ï¼Œè®°å½•æŸå¤±åç§°ä»¥ä¾¿åç»­åˆ†æã€‚

`label_loss_items` æ–¹æ³•ç”¨äºè¿”å›å¸¦æœ‰æ ‡ç­¾çš„è®­ç»ƒæŸå¤±é¡¹å­—å…¸ï¼Œä¾¿äºåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ç›‘æ§æŸå¤±æƒ…å†µã€‚

`progress_string` æ–¹æ³•ç”Ÿæˆä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œæ˜¾ç¤ºè®­ç»ƒè¿›åº¦ï¼ŒåŒ…æ‹¬å½“å‰çš„è½®æ¬¡ã€GPU å†…å­˜ä½¿ç”¨æƒ…å†µã€æŸå¤±å€¼ã€å®ä¾‹æ•°é‡å’Œå›¾åƒå¤§å°ç­‰ä¿¡æ¯ã€‚

`plot_training_samples` æ–¹æ³•ç”¨äºç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ ‡æ³¨ï¼Œå¸®åŠ©å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ ·æœ¬æ•°æ®ã€‚

æœ€åï¼Œ`plot_metrics` å’Œ `plot_training_labels` æ–¹æ³•åˆ†åˆ«ç”¨äºç»˜åˆ¶è®­ç»ƒè¿‡ç¨‹ä¸­è®°å½•çš„æŒ‡æ ‡å’Œè®­ç»ƒæ ‡ç­¾çš„å¯è§†åŒ–å›¾ï¼Œä¾¿äºåˆ†ææ¨¡å‹çš„è®­ç»ƒæ•ˆæœã€‚

æ•´ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶å®ç°äº† YOLO æ¨¡å‹è®­ç»ƒçš„å„ä¸ªç¯èŠ‚ï¼Œæä¾›äº†çµæ´»çš„é…ç½®å’Œå¯è§†åŒ–åŠŸèƒ½ï¼Œé€‚åˆäºç›®æ ‡æ£€æµ‹ä»»åŠ¡çš„ç ”ç©¶å’Œåº”ç”¨ã€‚

#### 11.5 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\yolo\classify\train.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import torch
from ultralytics.data import ClassificationDataset, build_dataloader
from ultralytics.engine.trainer import BaseTrainer
from ultralytics.models import yolo
from ultralytics.nn.tasks import ClassificationModel
from ultralytics.utils import DEFAULT_CFG, LOGGER, RANK, colorstr

class ClassificationTrainer(BaseTrainer):
    """
    æ‰©å±•è‡ª BaseTrainer ç±»ï¼Œç”¨äºåŸºäºåˆ†ç±»æ¨¡å‹çš„è®­ç»ƒã€‚
    """

    def __init__(self, cfg=DEFAULT_CFG, overrides=None, _callbacks=None):
        """åˆå§‹åŒ– ClassificationTrainer å¯¹è±¡ï¼Œæ”¯æŒé…ç½®è¦†ç›–å’Œå›è°ƒå‡½æ•°ã€‚"""
        if overrides is None:
            overrides = {}
        overrides['task'] = 'classify'  # è®¾ç½®ä»»åŠ¡ç±»å‹ä¸ºåˆ†ç±»
        if overrides.get('imgsz') is None:
            overrides['imgsz'] = 224  # é»˜è®¤å›¾åƒå¤§å°ä¸º224
        super().__init__(cfg, overrides, _callbacks)

    def set_model_attributes(self):
        """ä»åŠ è½½çš„æ•°æ®é›†ä¸­è®¾ç½® YOLO æ¨¡å‹çš„ç±»åã€‚"""
        self.model.names = self.data['names']

    def get_model(self, cfg=None, weights=None, verbose=True):
        """è¿”å›é…ç½®å¥½çš„ PyTorch æ¨¡å‹ä»¥è¿›è¡Œ YOLO è®­ç»ƒã€‚"""
        model = ClassificationModel(cfg, nc=self.data['nc'], verbose=verbose and RANK == -1)
        if weights:
            model.load(weights)  # åŠ è½½æƒé‡

        for m in model.modules():
            if not self.args.pretrained and hasattr(m, 'reset_parameters'):
                m.reset_parameters()  # é‡ç½®å‚æ•°
            if isinstance(m, torch.nn.Dropout) and self.args.dropout:
                m.p = self.args.dropout  # è®¾ç½® dropout æ¦‚ç‡
        for p in model.parameters():
            p.requires_grad = True  # è®¾ç½®ä¸ºå¯è®­ç»ƒ
        return model

    def build_dataset(self, img_path, mode='train'):
        """æ ¹æ®å›¾åƒè·¯å¾„å’Œæ¨¡å¼ï¼ˆè®­ç»ƒ/æµ‹è¯•ç­‰ï¼‰åˆ›å»º ClassificationDataset å®ä¾‹ã€‚"""
        return ClassificationDataset(root=img_path, args=self.args, augment=mode == 'train', prefix=mode)

    def get_dataloader(self, dataset_path, batch_size=16, rank=0, mode='train'):
        """è¿”å›å¸¦æœ‰å›¾åƒé¢„å¤„ç†çš„ PyTorch DataLoaderã€‚"""
        dataset = self.build_dataset(dataset_path, mode)  # æ„å»ºæ•°æ®é›†
        loader = build_dataloader(dataset, batch_size, self.args.workers, rank=rank)  # æ„å»ºæ•°æ®åŠ è½½å™¨
        return loader

    def preprocess_batch(self, batch):
        """é¢„å¤„ç†ä¸€æ‰¹å›¾åƒå’Œç±»æ ‡ç­¾ã€‚"""
        batch['img'] = batch['img'].to(self.device)  # å°†å›¾åƒç§»åŠ¨åˆ°è®¾å¤‡
        batch['cls'] = batch['cls'].to(self.device)  # å°†ç±»æ ‡ç­¾ç§»åŠ¨åˆ°è®¾å¤‡
        return batch

    def get_validator(self):
        """è¿”å› ClassificationValidator å®ä¾‹ä»¥è¿›è¡ŒéªŒè¯ã€‚"""
        self.loss_names = ['loss']  # å®šä¹‰æŸå¤±åç§°
        return yolo.classify.ClassificationValidator(self.test_loader, self.save_dir)

    def final_eval(self):
        """è¯„ä¼°è®­ç»ƒåçš„æ¨¡å‹å¹¶ä¿å­˜éªŒè¯ç»“æœã€‚"""
        for f in self.last, self.best:
            if f.exists():
                if f is self.best:
                    LOGGER.info(f'\nValidating {f}...')
                    self.metrics = self.validator(model=f)  # éªŒè¯æ¨¡å‹
                    self.metrics.pop('fitness', None)  # ç§»é™¤ä¸éœ€è¦çš„æŒ‡æ ‡
        LOGGER.info(f"Results saved to {colorstr('bold', self.save_dir)}")  # æ‰“å°ç»“æœä¿å­˜è·¯å¾„
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **ç±»å®šä¹‰**ï¼š`ClassificationTrainer` ç±»ç»§æ‰¿è‡ª `BaseTrainer`ï¼Œç”¨äºåˆ†ç±»ä»»åŠ¡çš„è®­ç»ƒã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼šè®¾ç½®ä»»åŠ¡ç±»å‹ä¸ºåˆ†ç±»ï¼Œå¹¶åˆå§‹åŒ–å›¾åƒå¤§å°ã€‚
3. **æ¨¡å‹å±æ€§è®¾ç½®**ï¼šä»æ•°æ®é›†ä¸­è·å–ç±»åå¹¶è®¾ç½®åˆ°æ¨¡å‹ä¸­ã€‚
4. **æ¨¡å‹è·å–**ï¼šæ ¹æ®é…ç½®å’Œæƒé‡åŠ è½½æ¨¡å‹ï¼Œå¹¶è®¾ç½®ä¸ºå¯è®­ç»ƒçŠ¶æ€ã€‚
5. **æ•°æ®é›†æ„å»º**ï¼šæ ¹æ®ç»™å®šè·¯å¾„å’Œæ¨¡å¼åˆ›å»ºæ•°æ®é›†å®ä¾‹ã€‚
6. **æ•°æ®åŠ è½½å™¨è·å–**ï¼šæ„å»ºæ•°æ®åŠ è½½å™¨ä»¥ä¾¿äºæ‰¹é‡å¤„ç†å›¾åƒã€‚
7. **æ‰¹å¤„ç†é¢„å¤„ç†**ï¼šå°†å›¾åƒå’Œç±»æ ‡ç­¾ç§»åŠ¨åˆ°æŒ‡å®šè®¾å¤‡ï¼ˆå¦‚ GPUï¼‰ã€‚
8. **éªŒè¯å™¨è·å–**ï¼šè¿”å›ç”¨äºéªŒè¯çš„åˆ†ç±»éªŒè¯å™¨å®ä¾‹ã€‚
9. **æœ€ç»ˆè¯„ä¼°**ï¼šè¯„ä¼°è®­ç»ƒåçš„æ¨¡å‹å¹¶ä¿å­˜ç»“æœã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ç”¨äºè®­ç»ƒYOLOv8åˆ†ç±»æ¨¡å‹çš„Pythonè„šæœ¬ï¼Œå±äºUltralyticsçš„YOLOç³»åˆ—æ¨¡å‹ã€‚æ–‡ä»¶ä¸­é¦–å…ˆå¯¼å…¥äº†å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬PyTorchã€Torchvisionä»¥åŠUltralyticsè‡ªå®šä¹‰çš„æ¨¡å—ã€‚è¯¥è„šæœ¬å®šä¹‰äº†ä¸€ä¸ªåä¸º`ClassificationTrainer`çš„ç±»ï¼Œè¯¥ç±»ç»§æ‰¿è‡ª`BaseTrainer`ï¼Œä¸“é—¨ç”¨äºåŸºäºåˆ†ç±»æ¨¡å‹çš„è®­ç»ƒã€‚

åœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œåˆå§‹åŒ–äº†è®­ç»ƒå™¨çš„é…ç½®ï¼ŒåŒ…æ‹¬ä»»åŠ¡ç±»å‹è®¾ç½®ä¸ºåˆ†ç±»ï¼ˆ'classify'ï¼‰ï¼Œå¹¶ç¡®ä¿å›¾åƒå¤§å°ï¼ˆ`imgsz`ï¼‰çš„é»˜è®¤å€¼ä¸º224ã€‚æ¥ç€ï¼Œç±»ä¸­å®šä¹‰äº†ä¸€ç³»åˆ—æ–¹æ³•æ¥è®¾ç½®æ¨¡å‹å±æ€§ã€è·å–æ¨¡å‹ã€è®¾ç½®æ¨¡å‹ã€æ„å»ºæ•°æ®é›†ã€è·å–æ•°æ®åŠ è½½å™¨ã€é¢„å¤„ç†æ‰¹æ¬¡æ•°æ®ã€æ˜¾ç¤ºè®­ç»ƒè¿›åº¦ã€è·å–éªŒè¯å™¨ã€æ ‡è®°æŸå¤±é¡¹ã€ç»˜åˆ¶æŒ‡æ ‡ã€æœ€ç»ˆè¯„ä¼°æ¨¡å‹ä»¥åŠç»˜åˆ¶è®­ç»ƒæ ·æœ¬ã€‚

`set_model_attributes`æ–¹æ³•ç”¨äºä»åŠ è½½çš„æ•°æ®é›†ä¸­è®¾ç½®YOLOæ¨¡å‹çš„ç±»åã€‚`get_model`æ–¹æ³•åˆ™è¿”å›ä¸€ä¸ªé…ç½®å¥½çš„PyTorchæ¨¡å‹ï¼Œæ”¯æŒåŠ è½½é¢„è®­ç»ƒæƒé‡å¹¶æ ¹æ®éœ€è¦é‡ç½®æ¨¡å‹å‚æ•°ã€‚`setup_model`æ–¹æ³•è´Ÿè´£åŠ è½½æ¨¡å‹ï¼Œæ”¯æŒä»æœ¬åœ°æ–‡ä»¶ã€Torchvisionæ¨¡å‹æˆ–Ultralyticsèµ„äº§ä¸­åŠ è½½ã€‚

`build_dataset`æ–¹æ³•åˆ›å»ºä¸€ä¸ªåˆ†ç±»æ•°æ®é›†å®ä¾‹ï¼Œè€Œ`get_dataloader`æ–¹æ³•è¿”å›ä¸€ä¸ªPyTorchçš„æ•°æ®åŠ è½½å™¨ï¼ŒåŒ…å«å›¾åƒé¢„å¤„ç†çš„å˜æ¢ã€‚`preprocess_batch`æ–¹æ³•ç”¨äºå°†æ‰¹æ¬¡æ•°æ®è½¬ç§»åˆ°æŒ‡å®šçš„è®¾å¤‡ä¸Šï¼ˆå¦‚GPUï¼‰ã€‚`progress_string`æ–¹æ³•è¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œæ˜¾ç¤ºè®­ç»ƒè¿›åº¦ã€‚

`get_validator`æ–¹æ³•è¿”å›ä¸€ä¸ªç”¨äºéªŒè¯çš„åˆ†ç±»éªŒè¯å™¨å®ä¾‹ï¼Œ`label_loss_items`æ–¹æ³•è¿”å›å¸¦æœ‰æ ‡ç­¾çš„è®­ç»ƒæŸå¤±é¡¹å­—å…¸ã€‚`plot_metrics`æ–¹æ³•ä»CSVæ–‡ä»¶ä¸­ç»˜åˆ¶æŒ‡æ ‡ï¼Œ`final_eval`æ–¹æ³•ç”¨äºè¯„ä¼°è®­ç»ƒåçš„æ¨¡å‹å¹¶ä¿å­˜éªŒè¯ç»“æœã€‚æœ€åï¼Œ`plot_training_samples`æ–¹æ³•ç»˜åˆ¶å¸¦æœ‰æ³¨é‡Šçš„è®­ç»ƒæ ·æœ¬å›¾åƒã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªè„šæœ¬ä¸ºYOLOv8åˆ†ç±»æ¨¡å‹çš„è®­ç»ƒæä¾›äº†å…¨é¢çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ¨¡å‹è®¾ç½®ã€æ•°æ®å¤„ç†ã€è®­ç»ƒè¿‡ç¨‹ç®¡ç†å’Œç»“æœå¯è§†åŒ–ç­‰ï¼Œé€‚åˆç”¨äºå›¾åƒåˆ†ç±»ä»»åŠ¡çš„æ·±åº¦å­¦ä¹ ç ”ç©¶å’Œåº”ç”¨ã€‚

#### 11.6 code\ui_style.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import base64
import streamlit as st

# è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶å¹¶è½¬æ¢ä¸º Base64 ç¼–ç 
def get_base64_of_bin_file(bin_file):
    # ä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€æ–‡ä»¶
    with open(bin_file, 'rb') as file:
        data = file.read()  # è¯»å–æ–‡ä»¶å†…å®¹
    # å°†è¯»å–çš„äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œ Base64 ç¼–ç å¹¶è§£ç ä¸ºå­—ç¬¦ä¸²
    return base64.b64encode(data).decode()

# å®šä¹‰ Streamlit åº”ç”¨çš„ CSS æ ·å¼
def def_css_hitml():
    st.markdown("""
        <style>
        /* å…¨å±€æ ·å¼è®¾ç½® */
        .css-2trqyj, .css-1d391kg, .st-bb, .st-at {
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;  /* å­—ä½“è®¾ç½® */
            background-color: #cadefc;  /* èƒŒæ™¯é¢œè‰² */
            color: #21618C;  /* å­—ä½“é¢œè‰² */
        }

        /* æŒ‰é’®æ ·å¼ */
        .stButton > button {
            border: none;  /* æ— è¾¹æ¡† */
            color: white;  /* å­—ä½“é¢œè‰² */
            padding: 10px 20px;  /* å†…è¾¹è· */
            text-align: center;  /* æ–‡æœ¬å±…ä¸­ */
            display: inline-block;  /* è¡Œå†…å—å…ƒç´  */
            font-size: 16px;  /* å­—ä½“å¤§å° */
            margin: 2px 1px;  /* å¤–è¾¹è· */
            cursor: pointer;  /* é¼ æ ‡æŒ‡é’ˆæ ·å¼ */
            border-radius: 8px;  /* åœ†è§’è¾¹æ¡† */
            background-color: #9896f1;  /* èƒŒæ™¯é¢œè‰² */
            box-shadow: 0 2px 4px 0 rgba(0,0,0,0.2);  /* é˜´å½±æ•ˆæœ */
            transition-duration: 0.4s;  /* è¿‡æ¸¡æ•ˆæœæ—¶é—´ */
        }
        .stButton > button:hover {
            background-color: #5499C7;  /* æ‚¬åœæ—¶èƒŒæ™¯é¢œè‰² */
            color: white;  /* æ‚¬åœæ—¶å­—ä½“é¢œè‰² */
            box-shadow: 0 8px 12px 0 rgba(0,0,0,0.24);  /* æ‚¬åœæ—¶é˜´å½±æ•ˆæœ */
        }

        /* ä¾§è¾¹æ æ ·å¼ */
        .css-1lcbmhc.e1fqkh3o0 {
            background-color: #154360;  /* èƒŒæ™¯é¢œè‰² */
            color: #FDFEFE;  /* å­—ä½“é¢œè‰² */
            border-right: 2px solid #DDD;  /* å³è¾¹æ¡† */
        }

        /* è¡¨æ ¼æ ·å¼ */
        table {
            border-collapse: collapse;  /* è¾¹æ¡†åˆå¹¶ */
            margin: 25px 0;  /* å¤–è¾¹è· */
            font-size: 18px;  /* å­—ä½“å¤§å° */
            font-family: sans-serif;  /* å­—ä½“ */
            min-width: 400px;  /* æœ€å°å®½åº¦ */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);  /* é˜´å½±æ•ˆæœ */
        }
        thead tr {
            background-color: #a8d8ea;  /* è¡¨å¤´èƒŒæ™¯é¢œè‰² */
            color: #ffcef3;  /* è¡¨å¤´å­—ä½“é¢œè‰² */
            text-align: left;  /* æ–‡æœ¬å·¦å¯¹é½ */
        }
        th, td {
            padding: 15px 18px;  /* å•å…ƒæ ¼å†…è¾¹è· */
        }
        tbody tr {
            border-bottom: 2px solid #ddd;  /* è¡Œåº•éƒ¨è¾¹æ¡† */
        }
        tbody tr:nth-of-type(even) {
            background-color: #D6EAF8;  /* å¶æ•°è¡ŒèƒŒæ™¯é¢œè‰² */
        }
        tbody tr:last-of-type {
            border-bottom: 3px solid #5499C7;  /* æœ€åä¸€è¡Œåº•éƒ¨è¾¹æ¡† */
        }
        tbody tr:hover {
            background-color: #AED6F1;  /* æ‚¬åœè¡ŒèƒŒæ™¯é¢œè‰² */
        }
        </style>
        """, unsafe_allow_html=True)  # å…è®¸ä½¿ç”¨ HTML
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼šå¯¼å…¥ `base64` æ¨¡å—ç”¨äºç¼–ç ï¼Œå¯¼å…¥ `streamlit` æ¨¡å—ç”¨äºæ„å»ºç½‘é¡µåº”ç”¨ã€‚
2. **get_base64_of_bin_file å‡½æ•°**ï¼šè¯»å–æŒ‡å®šçš„äºŒè¿›åˆ¶æ–‡ä»¶å¹¶å°†å…¶å†…å®¹è½¬æ¢ä¸º Base64 ç¼–ç çš„å­—ç¬¦ä¸²ã€‚
3. **def_css_hitml å‡½æ•°**ï¼šå®šä¹‰åº”ç”¨çš„ CSS æ ·å¼ï¼Œä½¿ç”¨ `st.markdown` æ–¹æ³•å°† CSS ä»£ç åµŒå…¥åˆ° Streamlit åº”ç”¨ä¸­ã€‚åŒ…æ‹¬å…¨å±€æ ·å¼ã€æŒ‰é’®æ ·å¼ã€ä¾§è¾¹æ æ ·å¼å’Œè¡¨æ ¼æ ·å¼ç­‰ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `ui_style.py` æ˜¯ä¸€ä¸ªç”¨äº Streamlit åº”ç”¨çš„æ ·å¼å®šä¹‰æ–‡ä»¶ã€‚å®ƒä¸»è¦é€šè¿‡ CSS æ¥ç¾åŒ–åº”ç”¨çš„ç”¨æˆ·ç•Œé¢ã€‚ä»¥ä¸‹æ˜¯å¯¹ä»£ç çš„é€è¡Œè®²è§£ã€‚

é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬ `base64` å’Œ `streamlit`ã€‚`base64` ç”¨äºå¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶çš„ç¼–ç ï¼Œè€Œ `streamlit` æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºæ•°æ®åº”ç”¨çš„æ¡†æ¶ã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†ä¸€ä¸ªå‡½æ•° `get_base64_of_bin_file(bin_file)`ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶çš„è·¯å¾„ä½œä¸ºå‚æ•°ã€‚å®ƒæ‰“å¼€è¯¥æ–‡ä»¶å¹¶è¯»å–å…¶å†…å®¹ï¼Œç„¶åå°†å…¶è½¬æ¢ä¸º Base64 ç¼–ç çš„å­—ç¬¦ä¸²ã€‚è¿™ä¸ªåŠŸèƒ½é€šå¸¸ç”¨äºå°†å›¾åƒæˆ–å…¶ä»–äºŒè¿›åˆ¶æ•°æ®åµŒå…¥åˆ° HTML ä¸­ã€‚

ç„¶åï¼Œå®šä¹‰äº†å¦ä¸€ä¸ªå‡½æ•° `def_css_hitml()`ï¼Œè¯¥å‡½æ•°ä½¿ç”¨ `st.markdown()` æ–¹æ³•å°†ä¸€æ®µ CSS æ ·å¼æ’å…¥åˆ° Streamlit åº”ç”¨ä¸­ã€‚CSS æ ·å¼çš„å®šä¹‰åŒ…æ‹¬å¤šä¸ªéƒ¨åˆ†ï¼š

1. **å…¨å±€æ ·å¼**ï¼šè®¾ç½®äº†åº”ç”¨çš„å­—ä½“ã€èƒŒæ™¯é¢œè‰²å’Œæ–‡æœ¬é¢œè‰²ï¼Œä½¿å¾—æ•´ä½“ç•Œé¢çœ‹èµ·æ¥æ›´åŠ ç»Ÿä¸€å’Œç¾è§‚ã€‚

2. **æŒ‰é’®æ ·å¼**ï¼šå®šä¹‰äº†æŒ‰é’®çš„å¤–è§‚ï¼ŒåŒ…æ‹¬è¾¹æ¡†ã€é¢œè‰²ã€å†…è¾¹è·ã€å­—ä½“å¤§å°ã€è¾¹è·ã€å…‰æ ‡æ ·å¼ã€åœ†è§’å’ŒèƒŒæ™¯é¢œè‰²ç­‰ã€‚è¿˜å®šä¹‰äº†æŒ‰é’®åœ¨é¼ æ ‡æ‚¬åœæ—¶çš„æ ·å¼å˜åŒ–ï¼Œä½¿å¾—ç”¨æˆ·ä½“éªŒæ›´åŠ å‹å¥½ã€‚

3. **ä¾§è¾¹æ æ ·å¼**ï¼šè®¾ç½®äº†ä¾§è¾¹æ çš„èƒŒæ™¯é¢œè‰²ã€æ–‡æœ¬é¢œè‰²å’Œè¾¹æ¡†æ ·å¼ï¼Œä½¿å…¶åœ¨è§†è§‰ä¸Šä¸ä¸»å†…å®¹åŒºåŒºåˆ†å¼€æ¥ã€‚

4. **Radio æŒ‰é’®æ ·å¼**ï¼šè‡ªå®šä¹‰äº†å•é€‰æŒ‰é’®çš„å¤–è§‚ï¼ŒåŒ…æ‹¬æ ‡ç­¾çš„æ’åˆ—æ–¹å¼å’Œåœ†å½¢é€‰æ‹©æ¡†çš„æ ·å¼ã€‚

5. **æ»‘å—æ ·å¼**ï¼šè®¾ç½®äº†æ»‘å—çš„æ»‘å—å¤´å’Œè½¨é“çš„é¢œè‰²ï¼Œä½¿å…¶åœ¨è§†è§‰ä¸Šæ›´åŠ çªå‡ºã€‚

6. **è¡¨æ ¼æ ·å¼**ï¼šå®šä¹‰äº†è¡¨æ ¼çš„æ•´ä½“æ ·å¼ï¼ŒåŒ…æ‹¬è¾¹æ¡†åˆå¹¶ã€å­—ä½“ã€é˜´å½±ç­‰ã€‚è¿˜è®¾ç½®äº†è¡¨å¤´å’Œè¡¨ä½“çš„èƒŒæ™¯é¢œè‰²ã€è¾¹è·ã€è¡Œçš„æ‚¬åœæ•ˆæœç­‰ï¼Œä½¿å¾—è¡¨æ ¼æ›´åŠ ç¾è§‚ä¸”æ˜“äºé˜…è¯»ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶é€šè¿‡ CSS æ ·å¼çš„å®šä¹‰ï¼Œæ—¨åœ¨æå‡ Streamlit åº”ç”¨çš„ç”¨æˆ·ç•Œé¢ï¼Œä½¿å…¶æ›´åŠ ç¾è§‚å’Œæ˜“ç”¨ã€‚é€šè¿‡è¿™äº›æ ·å¼çš„è°ƒæ•´ï¼Œç”¨æˆ·åœ¨ä½¿ç”¨åº”ç”¨æ—¶èƒ½å¤Ÿè·å¾—æ›´å¥½çš„è§†è§‰ä½“éªŒå’Œäº¤äº’æ„Ÿå—ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

è¯¥é¡¹ç›®ä¸»è¦å›´ç»•YOLOv8ç›®æ ‡æ£€æµ‹ç®—æ³•çš„å®ç°ä¸è®­ç»ƒï¼ŒåŒ…å«å¤šä¸ªæ¨¡å—å’Œæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶æ‰¿æ‹…ç‰¹å®šçš„åŠŸèƒ½ã€‚æ•´ä½“æ¶æ„å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š

1. **ç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰**ï¼šé€šè¿‡ `ui.py` å’Œ `ui_style.py` æ–‡ä»¶ï¼Œæä¾›äº†ä¸€ä¸ªç”¨æˆ·å‹å¥½çš„ç•Œé¢ï¼Œå…è®¸ç”¨æˆ·æ–¹ä¾¿åœ°å¯åŠ¨å’Œç›‘æ§æ¨¡å‹è®­ç»ƒã€‚

2. **æ¨¡å‹è®­ç»ƒ**ï¼š`train.py` å’Œ `train.py`ï¼ˆåˆ†ç±»æ¨¡å‹ï¼‰è´Ÿè´£æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½ã€é¢„å¤„ç†ã€æ¨¡å‹æ„å»ºå’Œè®­ç»ƒè¿‡ç¨‹çš„ç®¡ç†ã€‚

3. **æ¨¡å‹å’Œæ¨¡å—å®šä¹‰**ï¼š`conv.py`ã€`model.py` å’Œå…¶ä»–æ¨¡å—æ–‡ä»¶å®šä¹‰äº†YOLOv8æ¨¡å‹çš„ç»“æ„å’Œç»„ä»¶ï¼ŒåŒ…æ‹¬å·ç§¯å±‚ã€æ³¨æ„åŠ›æœºåˆ¶ç­‰ã€‚

4. **æ•°æ®å¤„ç†**ï¼š`base.py` å’Œå…¶ä»–ç›¸å…³æ–‡ä»¶å¤„ç†æ•°æ®é›†çš„åŠ è½½å’Œé¢„å¤„ç†ï¼Œç¡®ä¿è®­ç»ƒè¿‡ç¨‹ä¸­æ•°æ®çš„æ­£ç¡®æ€§å’Œæœ‰æ•ˆæ€§ã€‚

5. **éªŒè¯å’Œå›è°ƒ**ï¼š`validator.py` å’Œ `__init__.py` æ–‡ä»¶å®ç°äº†æ¨¡å‹éªŒè¯å’Œè®­ç»ƒè¿‡ç¨‹ä¸­çš„å›è°ƒæœºåˆ¶ï¼Œä»¥ä¾¿ç›‘æ§æ¨¡å‹æ€§èƒ½å’Œè°ƒæ•´è®­ç»ƒç­–ç•¥ã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                                                                       | åŠŸèƒ½æè¿°                                                     |
|------------------------------------------------------------------------------------------------|------------------------------------------------------------|
| `C:\shangjia\code\ui.py`                                                                       | å¯åŠ¨Streamlitåº”ç”¨ï¼Œæä¾›ç”¨æˆ·ç•Œé¢ä»¥è¿è¡ŒYOLOæ¨¡å‹è®­ç»ƒã€‚         |
| `C:\shangjia\code\70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\hub\session.py` | ç®¡ç†Ultralytics HUBä¸Šçš„YOLOæ¨¡å‹è®­ç»ƒä¼šè¯ï¼ŒåŒ…æ‹¬ä¸Šä¼ å’ŒéªŒè¯ã€‚   |
| `C:\shangjia\code\70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\modules\conv.py` | å®šä¹‰YOLOv8ä¸­çš„å·ç§¯å±‚å’Œç›¸å…³æ¨¡å—ï¼Œä¼˜åŒ–æ¨¡å‹çš„è®¡ç®—æ•ˆç‡ã€‚       |
| `C:\shangjia\code\train.py`                                                                    | è´Ÿè´£YOLOç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®é›†å’Œæ¨¡å‹ç®¡ç†ã€‚     |
| `C:\shangjia\code\70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\yolo\classify\train.py` | è®­ç»ƒYOLOv8åˆ†ç±»æ¨¡å‹ï¼Œå¤„ç†åˆ†ç±»ä»»åŠ¡çš„æ•°æ®å’Œæ¨¡å‹è®¾ç½®ã€‚         |
| `C:\shangjia\code\code\ui_style.py`                                                           | å®šä¹‰Streamlitåº”ç”¨çš„CSSæ ·å¼ï¼Œæå‡ç”¨æˆ·ç•Œé¢çš„ç¾è§‚æ€§ã€‚         |
| `C:\shangjia\code\70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\rtdetr\model.py` | å®šä¹‰RT-DETRæ¨¡å‹çš„ç»“æ„å’ŒåŠŸèƒ½ï¼Œæ”¯æŒç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚             |
| `C:\shangjia\code\70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\extra_modules\dynamic_snake_conv.py` | å®ç°åŠ¨æ€è›‡å½¢å·ç§¯ï¼Œä¼˜åŒ–å·ç§¯æ“ä½œä»¥æé«˜æ¨¡å‹æ€§èƒ½ã€‚             |
| `C:\shangjia\code\code\ultralytics\engine\validator.py`                                       | å®ç°æ¨¡å‹éªŒè¯é€»è¾‘ï¼Œç›‘æ§è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ€§èƒ½æŒ‡æ ‡ã€‚               |
| `C:\shangjia\code\ultralytics\models\fastsam\prompt.py`                                       | å¤„ç†FastSAMæ¨¡å‹çš„æç¤ºå’Œè¾“å…¥ï¼Œæ”¯æŒå¿«é€Ÿåˆ†å‰²ä»»åŠ¡ã€‚             |
| `C:\shangjia\code\ultralytics\utils\callbacks\__init__.py`                                    | å®šä¹‰å›è°ƒæœºåˆ¶ï¼Œæ”¯æŒè®­ç»ƒè¿‡ç¨‹ä¸­çš„åŠ¨æ€è°ƒæ•´å’Œç›‘æ§ã€‚             |
| `C:\shangjia\code\ultralytics\models\yolo\__init__.py`                                        | åˆå§‹åŒ–YOLOæ¨¡å‹æ¨¡å—ï¼Œæä¾›æ¨¡å‹çš„åŠ è½½å’Œé…ç½®åŠŸèƒ½ã€‚             |
| `C:\shangjia\code\ultralytics\data\base.py`                                                   | å®šä¹‰æ•°æ®é›†çš„åŸºæœ¬ç±»å’Œæ•°æ®åŠ è½½é€»è¾‘ï¼Œæ”¯æŒæ•°æ®é¢„å¤„ç†ã€‚         |

è¿™ä¸ªè¡¨æ ¼æ¦‚è¿°äº†æ¯ä¸ªæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼Œå¸®åŠ©ç†è§£æ•´ä¸ªé¡¹ç›®çš„ç»“æ„å’ŒåŠŸèƒ½æ¨¡å—ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æ¥ï¼šhttps://mbd.pub/o/bread/ZpyUk5Zr](https://mbd.pub/o/bread/ZpyUk5Zr)